<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Last.fm Stats - September 2011</title>
    <link rel="icon" type="image/png" href="images/music.png">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #1e1e2e;
            color: #cdd6f4;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: #181825;
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        header {
            background: #1e1e2e;
            padding: 20px 30px;
            border-bottom: 2px solid #cba6f7;
            display: flex;
            justify-content: space-between;
            align-items: center;
            min-height: 80px;
        }

        .header-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            flex-grow: 1;
        }

        h1 {
            font-size: 1.8em;
            color: #cba6f7;
            margin: 0;
            text-align: center;
        }

        .nav-buttons {
            display: flex;
            gap: 15px;
            margin-top: 10px;
        }

        .nav-button {
            padding: 8px 16px;
            background: #313244;
            color: #cdd6f4;
            border: 2px solid #45475a;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9em;
            font-weight: 600;
            text-decoration: none;
            display: inline-block;
        }

        .nav-button:hover {
            border-color: #cba6f7;
            background: #45475a;
            color: #cdd6f4;
        }

        .nav-button.current {
            background: #cba6f7;
            color: #1e1e2e;
            border-color: #cba6f7;
        }

        .user-button {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #cba6f7;
            color: #1e1e2e;
            border: none;
            cursor: pointer;
            font-size: 1.2em;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            flex-shrink: 0;
        }

        .user-button:hover {
            background: #b4a3e8;
            transform: scale(1.1);
        }

        .user-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            backdrop-filter: blur(5px);
        }

        .user-modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #1e1e2e;
            border-radius: 12px;
            padding: 30px;
            width: 90%;
            max-width: 400px;
            border: 2px solid #cba6f7;
        }

        .user-modal-header {
            color: #cba6f7;
            font-size: 1.3em;
            font-weight: 600;
            margin-bottom: 20px;
            text-align: center;
        }

        .user-modal-close {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            color: #cdd6f4;
            font-size: 1.5em;
            cursor: pointer;
            padding: 0;
        }

        .user-modal-close:hover {
            color: #cba6f7;
        }

        .user-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .user-option {
            padding: 12px 20px;
            background: #313244;
            border: 2px solid #45475a;
            border-radius: 8px;
            color: #cdd6f4;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .user-option:hover {
            border-color: #cba6f7;
            background: #45475a;
        }

        .user-option.selected {
            background: #cba6f7;
            color: #1e1e2e;
            border-color: #cba6f7;
        }

        .controls {
            padding: 20px 30px;
            background: #1e1e2e;
            border-bottom: 1px solid #313244;
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            align-items: center;
            justify-content: center;
        }

        .control-group {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .control-group label {
            color: #cba6f7;
            font-weight: 600;
        }

        .category-filters {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .category-filter {
            padding: 8px 16px;
            background: #313244;
            color: #cdd6f4;
            border: 2px solid #45475a;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9em;
            font-weight: 600;
        }

        .category-filter:hover {
            border-color: #cba6f7;
            background: #45475a;
        }

        .category-filter.active {
            background: #cba6f7;
            color: #1e1e2e;
            border-color: #cba6f7;
        }

        .period-header {
            background: #1e1e2e;
            padding: 25px 30px;
            border-bottom: 2px solid #cba6f7;
        }

        .period-header h2 {
            color: #cba6f7;
            font-size: 1.5em;
            margin-bottom: 8px;
        }

        .period-info {
            color: #a6adc8;
            font-size: 0.9em;
        }

        .stats-container {
            padding: 30px;
        }

        .categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
            gap: 25px;
        }

        .category {
            background: #1e1e2e;
            border-radius: 12px;
            padding: 20px;
            border: 1px solid #313244;
            display: none;
        }

        .category.visible {
            display: block;
        }

        .category h3 {
            color: #cba6f7;
            font-size: 1.2em;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #cba6f7;
        }

        .item {
            padding: 12px;
            margin-bottom: 10px;
            background: #181825;
            border-radius: 8px;
            border-left: 3px solid #45475a;
            transition: all 0.3s;
            cursor: pointer;
        }

        .item:hover {
            transform: translateX(5px);
            border-left-color: #cba6f7;
        }

        .item.highlighted {
            border-left-color: #cba6f7;
            background: #1a1826;
        }

        .item-name {
            font-weight: 600;
            color: #cdd6f4;
            font-size: 1em;
        }

        .item-meta {
            margin-top: 8px;
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            align-items: center;
        }

        .badge {
            background: #45475a;
            color: #cdd6f4;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: 600;
        }

        .user-badge {
            background: #313244;
            color: #a6adc8;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.75em;
            border: 1px solid #45475a;
        }

        .user-badge.highlighted-user {
            background: #cba6f7;
            color: #1e1e2e;
            border-color: #cba6f7;
        }

        .expandable {
            position: relative;
        }

        .expandable::after {
            content: '‚ñº';
            position: absolute;
            right: 12px;
            top: 12px;
            color: #6c7086;
            font-size: 0.8em;
        }

        .expandable.expanded::after {
            content: '‚ñ≤';
        }

        .details {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
            padding: 0 15px;
            margin-top: 10px;
        }

        .details.expanded {
            max-height: 400px;
            overflow-y: auto;
            border-top: 1px solid #313244;
            padding-top: 15px;
        }

        .detail-section {
            margin-bottom: 15px;
        }

        .detail-title {
            color: #f9e2af;
            font-size: 0.9em;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .detail-list {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }

        .detail-item {
            background: #181825;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8em;
            color: #a6adc8;
        }

        .novelty-section {
            margin-bottom: 25px;
        }

        .novelty-section h4 {
            color: #a6e3a1;
            font-size: 1.05em;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 1px solid #45475a;
        }

        .novelty-subsection {
            margin-bottom: 20px;
        }

        .novelty-subsection h5 {
            color: #f9e2af;
            font-size: 0.95em;
            margin-bottom: 10px;
        }

        .novelty-empty {
            color: #6c7086;
            font-style: italic;
            text-align: center;
            padding: 20px;
        }

        .artists-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #1e1e2e;
            border: 2px solid #cba6f7;
            border-radius: 12px;
            padding: 20px;
            max-width: 500px;
            max-height: 400px;
            overflow-y: auto;
            z-index: 1000;
            box-shadow: 0 8px 32px rgba(0,0,0,0.5);
        }

        .popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 999;
        }

        .popup-header {
            color: #cba6f7;
            font-size: 1.1em;
            font-weight: 600;
            margin-bottom: 15px;
            border-bottom: 1px solid #313244;
            padding-bottom: 10px;
        }

        .popup-close {
            float: right;
            background: none;
            border: none;
            color: #cdd6f4;
            font-size: 1.2em;
            cursor: pointer;
            padding: 0;
            margin-top: -5px;
        }

        .popup-close:hover {
            color: #cba6f7;
        }

        .artist-list {
            list-style: none;
            padding: 0;
        }

        .artist-list li {
            padding: 8px 12px;
            background: #181825;
            margin-bottom: 5px;
            border-radius: 6px;
            border-left: 3px solid #45475a;
        }

        .no-data {
            text-align: center;
            padding: 40px;
            color: #6c7086;
            font-style: italic;
        }

        .last-update {
            text-align: center;
            padding: 20px;
            color: #6c7086;
            font-size: 0.85em;
            border-top: 1px solid #313244;
        }

        @media (max-width: 768px) {
            .categories {
                grid-template-columns: 1fr;
            }

            .controls {
                flex-direction: column;
                align-items: stretch;
            }

            .category-filters {
                justify-content: center;
            }

            .artists-popup {
                max-width: 90%;
                max-height: 80%;
            }

            header {
                flex-direction: column;
                gap: 15px;
            }

            .nav-buttons {
                order: -1;
            }

            .user-button {
                order: 1;
                align-self: flex-end;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <h1>üìä RYM Hispano Estad√≠sticas</h1>
                <div class="nav-buttons">
                    <a href="esta-semana.html" class="nav-button">TEMPORALES</a>
                    <a href="index.html#grupo" class="nav-button">GRUPO</a>
                    <a href="index.html#about" class="nav-button">ACERCA DE</a>
                </div>
            </div>
            <button class="user-button" id="userButton">üë§</button>
        </header>

        <!-- Modal de selecci√≥n de usuario -->
        <div class="user-modal" id="userModal">
            <div class="user-modal-content">
                <button class="user-modal-close" id="userModalClose">√ó</button>
                <div class="user-modal-header">Seleccionar Usuario</div>
                <div class="user-options" id="userOptions">
                    <!-- Se llenar√°n din√°micamente -->
                </div>
            </div>
        </div>

        <div class="controls">
            <div class="control-group">
                <label>Mostrar categor√≠as:</label>
                <div class="category-filters">
                    <button class="category-filter active" data-category="artists">Artistas</button><button class="category-filter " data-category="tracks">Canciones</button><button class="category-filter " data-category="albums">√Ålbumes</button><button class="category-filter " data-category="genres">G√©neros</button><button class="category-filter " data-category="labels">Sellos</button><button class="category-filter " data-category="years">A√±os</button><button class="category-filter " data-category="novelties">Novedades</button>
                </div>
            </div>
        </div>

        <div class="period-header">
            <h2>September 2011</h2>
            <p class="period-info">
                <span id="dateRange"></span> |
                <span id="totalScrobbles"></span> scrobbles totales
            </p>
        </div>

        <div class="stats-container">
            <div class="categories" id="categoriesContainer">
                <!-- Se llenar√° din√°micamente -->
            </div>
        </div>

        <div class="last-update">
            Generado: <span id="generatedAt"></span>
        </div>
    </div>

    <script>
        // Usuarios reales del entorno LASTFM_USERS
        const availableUsers = ["alberto_gu", "EliasJ72", "Frikomid", "GabredMared", "Lonsonxd", "Nubis84", "paqueradejere", "Rocky_stereo", "sdecandelario"];
        const stats = {
  "total_scrobbles": 2010,
  "artists": [],
  "tracks": [
    {
      "name": "New Order - Blue Monday",
      "count": 2,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 1,
        "sdecandelario": 1
      }
    }
  ],
  "albums": [],
  "genres": [
    {
      "name": "heavy metal",
      "count": 533,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 3,
        "sdecandelario": 530
      },
      "user_artists": {
        "Nubis84": [
          "X JAPAN",
          "Killer",
          "Iron Maiden"
        ],
        "sdecandelario": [
          "King Kobra",
          "Raven",
          "Helloween",
          "Powerwolf",
          "Rata Blanca",
          "Danzig",
          "Manilla Road",
          "Saxon",
          "Onslaught",
          "King Diamond",
          "Impellitteri",
          "Omen",
          "Tokyo Blade",
          "Warlock",
          "Fury UK",
          "Green Jell√ø",
          "Tyrant",
          "Jag Panzer",
          "Venom",
          "Running Wild",
          "Scorpions",
          "Vicious Rumors",
          "Warrant",
          "W.A.S.P.",
          "Praying Mantis",
          "Mercyful Fate",
          "Judas Priest",
          "M√∂tley Cr√ºe",
          "White Wizzard",
          "Savatage",
          "Tierra Santa"
        ]
      },
      "top_artists": [
        "Running Wild",
        "Praying Mantis",
        "Vicious Rumors",
        "Rata Blanca",
        "Manilla Road",
        "Danzig",
        "Powerwolf",
        "Mercyful Fate",
        "White Wizzard",
        "Tokyo Blade"
      ],
      "top_albums": [
        "Rata Blanca - VII",
        "Raven - Walk Through Fire",
        "King Kobra - King Kobra",
        "King Diamond - Give Me Your Soul...Please",
        "Venom - Hell",
        "White Wizzard - Flying Tigers",
        "Savatage - Sirens",
        "Running Wild - Black Hand Inn",
        "Powerwolf - Bible Of The Beast",
        "Running Wild - Port Royal"
      ]
    },
    {
      "name": "metal",
      "count": 513,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 19,
        "sdecandelario": 494
      },
      "user_artists": {
        "Nubis84": [
          "Redemption",
          "Staind",
          "Marilyn Manson",
          "Opeth",
          "X JAPAN",
          "Sepultura",
          "Iron Maiden",
          "Meshuggah"
        ],
        "sdecandelario": [
          "Paradise Lost",
          "Raven",
          "Helloween",
          "Powerwolf",
          "Danzig",
          "Manilla Road",
          "Saxon",
          "Onslaught",
          "King Diamond",
          "Impellitteri",
          "Sodom",
          "Tokyo Blade",
          "Warlock",
          "Fury UK",
          "Green Jell√ø",
          "Jag Panzer",
          "Running Wild",
          "Limp Bizkit",
          "Pain",
          "W.A.S.P.",
          "Mercyful Fate",
          "Judas Priest",
          "White Wizzard",
          "Tankard",
          "Savatage",
          "Tierra Santa"
        ]
      },
      "top_artists": [
        "Sodom",
        "Running Wild",
        "Tankard",
        "Manilla Road",
        "Danzig",
        "Powerwolf",
        "Mercyful Fate",
        "White Wizzard",
        "Tokyo Blade",
        "Onslaught"
      ],
      "top_albums": [
        "Tankard - The Tankard",
        "Sodom - Get What You Deserve",
        "Sodom - 'til Death Do Us Unite",
        "Sodom - Masquerade in Blood",
        "Raven - Walk Through Fire",
        "Sodom - Code Red",
        "Tankard - Disco Destroyer",
        "Sodom - Tapping the Vein",
        "King Diamond - Give Me Your Soul...Please",
        "Sodom - Better Off Dead"
      ]
    },
    {
      "name": "rock",
      "count": 399,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 79,
        "sdecandelario": 320
      },
      "user_artists": {
        "Nubis84": [
          "Roger Glover",
          "Bryan Adams, Rod Stewart & Sting",
          "Killer",
          "Staind",
          "The National",
          "The Cranberries",
          "Marillion",
          "Wilco",
          "Interpol",
          "Jethro Tull",
          "The Flaming Lips",
          "Survivor",
          "Rush",
          "Paco Pil",
          "Bryan McPherson",
          "ZZ Top",
          "The Beatles",
          "Nine Inch Nails",
          "Kashmir",
          "Triana",
          "Linde Lindstr√∂m",
          "The Strokes",
          "The Wannadies",
          "Muse",
          "Marilyn Manson",
          "The Shins",
          "The Cure",
          "The Stone Roses",
          "The Smashing Pumpkins",
          "PJ Harvey",
          "Iron Maiden",
          "Los Suaves",
          "Porcupine Tree",
          "Miles Kane",
          "Puscifer",
          "Primus",
          "The White Stripes",
          "The 69 Eyes",
          "Primal Scream",
          "Jimi Hendrix",
          "Radiohead"
        ],
        "sdecandelario": [
          "The Killers",
          "Molly Hatchet",
          "Meat Loaf",
          "The Offspring",
          "Queens of the Stone Age",
          "Rata Blanca",
          "Danzig",
          "Steppenwolf",
          "The Answer",
          "Toto",
          "ZZ Top",
          "The Strokes",
          "Whitesnake",
          "Queen",
          "Fury UK",
          "Green Jell√ø",
          "Loquillo Y Los Trogloditas",
          "Loquillo",
          "The Fratellis",
          "The Stooges",
          "Scorpions",
          "Hanoi Rocks",
          "Warrant",
          "Limp Bizkit",
          "The Cult",
          "Led Zeppelin",
          "Uriah Heep",
          "M√∂tley Cr√ºe",
          "The White Stripes",
          "Lynyrd Skynyrd",
          "Jimi Hendrix"
        ]
      },
      "top_artists": [
        "Loquillo",
        "Queens of the Stone Age",
        "The Killers",
        "Rata Blanca",
        "Uriah Heep",
        "Danzig",
        "The Answer",
        "Roger Glover",
        "The Cult",
        "Staind"
      ],
      "top_albums": [
        "Loquillo - Rock & Roll Star",
        "The Killers - Hot Fuss",
        "Roger Glover - The Butterfly Ball and the Grasshopper's Feast",
        "Queens of the Stone Age - Songs for the Deaf",
        "Rata Blanca - VII",
        "The Killers - Day & Age",
        "Queens of the Stone Age - Era Vulgaris",
        "The Cult - Born Into This",
        "Queens of the Stone Age - Rated R",
        "Danzig - Danzig II: Lucifuge"
      ]
    },
    {
      "name": "hard rock",
      "count": 343,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 29,
        "sdecandelario": 314
      },
      "user_artists": {
        "Nubis84": [
          "Roger Glover",
          "Survivor",
          "Staind",
          "Rush",
          "ZZ Top",
          "Iron Maiden",
          "Lagartija Nick",
          "Los Suaves"
        ],
        "sdecandelario": [
          "King Kobra",
          "Molly Hatchet",
          "Raven",
          "Meat Loaf",
          "Queens of the Stone Age",
          "Danzig",
          "Steppenwolf",
          "The Answer",
          "Saxon",
          "ZZ Top",
          "Whitesnake",
          "Queen",
          "Dangerous Toys",
          "Tokyo Blade",
          "Warlock",
          "Scorpions",
          "Hanoi Rocks",
          "Warrant",
          "The Cult",
          "W.A.S.P.",
          "Led Zeppelin",
          "Praying Mantis",
          "Uriah Heep",
          "Judas Priest",
          "M√∂tley Cr√ºe",
          "White Wizzard",
          "Lynyrd Skynyrd",
          "Savatage"
        ]
      },
      "top_artists": [
        "Queens of the Stone Age",
        "Praying Mantis",
        "Uriah Heep",
        "Danzig",
        "White Wizzard",
        "The Answer",
        "Tokyo Blade",
        "Roger Glover",
        "Raven",
        "Savatage"
      ],
      "top_albums": [
        "Roger Glover - The Butterfly Ball and the Grasshopper's Feast",
        "Queens of the Stone Age - Songs for the Deaf",
        "Raven - Walk Through Fire",
        "King Kobra - King Kobra",
        "White Wizzard - Flying Tigers",
        "Savatage - Sirens",
        "Queens of the Stone Age - Era Vulgaris",
        "The Cult - Born Into This",
        "Queens of the Stone Age - Rated R",
        "Danzig - Danzig II: Lucifuge"
      ]
    },
    {
      "name": "german",
      "count": 292,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 1,
        "sdecandelario": 291
      },
      "user_artists": {
        "Nubis84": [
          "LaBrassBanda"
        ],
        "sdecandelario": [
          "Nena",
          "Warlock",
          "Saltatio Mortis",
          "Helloween",
          "Powerwolf",
          "Tankard",
          "Tanzwut",
          "Sodom"
        ]
      },
      "top_artists": [
        "Sodom",
        "Tankard",
        "Tanzwut",
        "Saltatio Mortis",
        "Powerwolf",
        "Helloween",
        "Warlock",
        "LaBrassBanda",
        "Nena"
      ],
      "top_albums": [
        "Tanzwut - Schattenreiter",
        "Tankard - The Tankard",
        "Sodom - Get What You Deserve",
        "Sodom - 'til Death Do Us Unite",
        "Saltatio Mortis - Wer Wind S√§t",
        "Sodom - Masquerade in Blood",
        "Saltatio Mortis - Aus Der Asche",
        "Sodom - Code Red",
        "Tankard - Disco Destroyer",
        "Sodom - Tapping the Vein"
      ]
    },
    {
      "name": "thrash metal",
      "count": 286,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 1,
        "sdecandelario": 285
      },
      "user_artists": {
        "Nubis84": [
          "Sepultura"
        ],
        "sdecandelario": [
          "Mercyful Fate",
          "Onslaught",
          "Tyrant",
          "Venom",
          "Vicious Rumors",
          "Tankard",
          "Sodom",
          "Suicidal Tendencies"
        ]
      },
      "top_artists": [
        "Sodom",
        "Tankard",
        "Vicious Rumors",
        "Mercyful Fate",
        "Tyrant",
        "Onslaught",
        "Venom",
        "Sepultura",
        "Suicidal Tendencies"
      ],
      "top_albums": [
        "Tankard - The Tankard",
        "Sodom - Get What You Deserve",
        "Sodom - 'til Death Do Us Unite",
        "Sodom - Masquerade in Blood",
        "Sodom - Code Red",
        "Tankard - Disco Destroyer",
        "Sodom - Tapping the Vein",
        "Sodom - Better Off Dead",
        "Venom - Hell",
        "Vicious Rumors - Cyberchrist"
      ]
    },
    {
      "name": "Power metal",
      "count": 267,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 1,
        "sdecandelario": 266
      },
      "user_artists": {
        "Nubis84": [
          "Redemption"
        ],
        "sdecandelario": [
          "Helloween",
          "Impellitteri",
          "Jag Panzer",
          "Running Wild",
          "Vicious Rumors",
          "Powerwolf",
          "Omen",
          "Savatage",
          "Rata Blanca",
          "Saurom",
          "Manilla Road",
          "Tierra Santa"
        ]
      },
      "top_artists": [
        "Running Wild",
        "Vicious Rumors",
        "Rata Blanca",
        "Manilla Road",
        "Powerwolf",
        "Omen",
        "Savatage",
        "Helloween",
        "Saurom",
        "Redemption"
      ],
      "top_albums": [
        "Rata Blanca - VII",
        "Savatage - Sirens",
        "Running Wild - Black Hand Inn",
        "Powerwolf - Bible Of The Beast",
        "Running Wild - Port Royal",
        "Vicious Rumors - Cyberchrist",
        "Running Wild - Masquerade",
        "Running Wild - Pile of Skulls",
        "Running Wild - Blazon Stone",
        "Vicious Rumors - Sadistic Symphony"
      ]
    },
    {
      "name": "alternative",
      "count": 181,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 60,
        "sdecandelario": 121
      },
      "user_artists": {
        "Nubis84": [
          "Staind",
          "The National",
          "The Cranberries",
          "Wilco",
          "Interpol",
          "The Flaming Lips",
          "New Order",
          "Nine Inch Nails",
          "Kashmir",
          "The Strokes",
          "MGMT",
          "The Wannadies",
          "Muse",
          "Marilyn Manson",
          "The Shins",
          "The Cure",
          "Sigur R√≥s",
          "The Stone Roses",
          "The Smashing Pumpkins",
          "PJ Harvey",
          "Milla Jovovich",
          "Puscifer",
          "Mogwai",
          "Primus",
          "The White Stripes",
          "Primal Scream",
          "Radiohead"
        ],
        "sdecandelario": [
          "J.U.F.",
          "New Order",
          "The Killers",
          "Moby",
          "Limp Bizkit",
          "Green Jell√ø",
          "The Fratellis",
          "The White Stripes",
          "The Offspring",
          "Queens of the Stone Age",
          "The Strokes",
          "Putilatex",
          "Pain",
          "MGMT"
        ]
      },
      "top_artists": [
        "Queens of the Stone Age",
        "The Killers",
        "Putilatex",
        "Sigur R√≥s",
        "Staind",
        "The Cure",
        "PJ Harvey",
        "Mogwai",
        "MGMT",
        "New Order"
      ],
      "top_albums": [
        "The Killers - Hot Fuss",
        "Queens of the Stone Age - Songs for the Deaf",
        "The Killers - Day & Age",
        "Queens of the Stone Age - Era Vulgaris",
        "Queens of the Stone Age - Rated R",
        "The Killers - Sam's Town",
        "Queens of the Stone Age - Queens of the Stone Age",
        "Putilatex - Domund",
        "Sigur R√≥s - S√¶gl√≥pur",
        "PJ Harvey - The Words That Maketh Murder"
      ]
    },
    {
      "name": "black metal",
      "count": 178,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 8,
        "sdecandelario": 170
      },
      "user_artists": {
        "Nubis84": [
          "Satanic Army",
          "Shyy",
          "Sigh",
          "Heretoir",
          "Strid"
        ],
        "sdecandelario": [
          "Mercyful Fate",
          "Tyrant",
          "King Diamond",
          "Venom",
          "Sodom"
        ]
      },
      "top_artists": [
        "Sodom",
        "Mercyful Fate",
        "Tyrant",
        "King Diamond",
        "Venom",
        "Satanic Army",
        "Heretoir",
        "Shyy",
        "Sigh",
        "Strid"
      ],
      "top_albums": [
        "Sodom - Get What You Deserve",
        "Sodom - 'til Death Do Us Unite",
        "Sodom - Masquerade in Blood",
        "Sodom - Code Red",
        "Sodom - Tapping the Vein",
        "King Diamond - Give Me Your Soul...Please",
        "Sodom - Better Off Dead",
        "Venom - Hell",
        "Tyrant - Fight For Your Life",
        "Mercyful Fate - 9"
      ]
    },
    {
      "name": "speed metal",
      "count": 169,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 1,
        "sdecandelario": 168
      },
      "user_artists": {
        "Nubis84": [
          "Killer"
        ],
        "sdecandelario": [
          "Raven",
          "Onslaught",
          "Helloween",
          "Impellitteri",
          "Venom",
          "Running Wild",
          "Vicious Rumors"
        ]
      },
      "top_artists": [
        "Running Wild",
        "Vicious Rumors",
        "Onslaught",
        "Raven",
        "Venom",
        "Helloween",
        "Killer",
        "Impellitteri"
      ],
      "top_albums": [
        "Raven - Walk Through Fire",
        "Venom - Hell",
        "Running Wild - Black Hand Inn",
        "Running Wild - Port Royal",
        "Vicious Rumors - Cyberchrist",
        "Running Wild - Masquerade",
        "Running Wild - Pile of Skulls",
        "Running Wild - Blazon Stone",
        "Vicious Rumors - Sadistic Symphony",
        "Onslaught - Sounds of Violence"
      ]
    },
    {
      "name": "indie",
      "count": 131,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 82,
        "sdecandelario": 49
      },
      "user_artists": {
        "Nubis84": [
          "Wild Beasts",
          "The Drums",
          "The National",
          "Wilco",
          "The Antlers",
          "Interpol",
          "The Flaming Lips",
          "Kashmir",
          "The Strokes",
          "MGMT",
          "The Wannadies",
          "Muse",
          "The Shins",
          "Sigur R√≥s",
          "The Stone Roses",
          "Panda Bear",
          "Lagartija Nick",
          "PJ Harvey",
          "The Pains of Being Pure at Heart",
          "The Horrors",
          "M83",
          "Milla Jovovich",
          "Miles Kane",
          "Mogwai",
          "The White Stripes",
          "Money",
          "Primal Scream",
          "Radiohead"
        ],
        "sdecandelario": [
          "The Killers",
          "The Fratellis",
          "The White Stripes",
          "The Strokes",
          "MGMT"
        ]
      },
      "top_artists": [
        "The Killers",
        "M83",
        "Sigur R√≥s",
        "PJ Harvey",
        "Mogwai",
        "MGMT",
        "Radiohead",
        "The White Stripes",
        "Wilco",
        "The Drums"
      ],
      "top_albums": [
        "M83 - Hurry Up, We're Dreaming",
        "The Killers - Hot Fuss",
        "The Killers - Day & Age",
        "The Killers - Sam's Town",
        "Sigur R√≥s - S√¶gl√≥pur",
        "PJ Harvey - The Words That Maketh Murder",
        "M83 - Midnight City",
        "Radiohead - The Best Of",
        "MGMT - Oracular Spectacular",
        "The Drums - Money"
      ]
    },
    {
      "name": "NWOBHM",
      "count": 125,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 2,
        "sdecandelario": 123
      },
      "user_artists": {
        "Nubis84": [
          "Iron Maiden",
          "Money"
        ],
        "sdecandelario": [
          "Tokyo Blade",
          "Judas Priest",
          "Saxon",
          "Raven",
          "Tyrant",
          "Venom",
          "Praying Mantis"
        ]
      },
      "top_artists": [
        "Praying Mantis",
        "Tokyo Blade",
        "Tyrant",
        "Raven",
        "Venom",
        "Judas Priest",
        "Saxon",
        "Money",
        "Iron Maiden"
      ],
      "top_albums": [
        "Raven - Walk Through Fire",
        "Venom - Hell",
        "Praying Mantis - To the Power of Ten",
        "Praying Mantis - A Cry for the New World",
        "Tokyo Blade - Pumphouse",
        "Tyrant - Fight For Your Life",
        "Praying Mantis - The Journey Goes On",
        "Tyrant - Mean Machine",
        "Praying Mantis - Forever in Time",
        "Tokyo Blade - Thousand Men Strong"
      ]
    },
    {
      "name": "alternative rock",
      "count": 115,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 20,
        "sdecandelario": 95
      },
      "user_artists": {
        "Nubis84": [
          "Staind",
          "Muse",
          "The National",
          "Primus",
          "The White Stripes",
          "The Cranberries",
          "The Smashing Pumpkins",
          "Lagartija Nick",
          "The Strokes",
          "The Flaming Lips",
          "Radiohead"
        ],
        "sdecandelario": [
          "The Killers",
          "The White Stripes",
          "The Offspring",
          "Queens of the Stone Age",
          "The Strokes"
        ]
      },
      "top_artists": [
        "Queens of the Stone Age",
        "The Killers",
        "Staind",
        "Radiohead",
        "The White Stripes",
        "The Strokes",
        "Lagartija Nick",
        "Muse",
        "Primus",
        "The Smashing Pumpkins"
      ],
      "top_albums": [
        "The Killers - Hot Fuss",
        "Queens of the Stone Age - Songs for the Deaf",
        "The Killers - Day & Age",
        "Queens of the Stone Age - Era Vulgaris",
        "Queens of the Stone Age - Rated R",
        "The Killers - Sam's Town",
        "Queens of the Stone Age - Queens of the Stone Age",
        "Staind - Break the Cycle",
        "Radiohead - The Best Of",
        "Staind - The Illusion Of Progress"
      ]
    },
    {
      "name": "classic rock",
      "count": 113,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 26,
        "sdecandelario": 87
      },
      "user_artists": {
        "Nubis84": [
          "Roger Glover",
          "Bryan Adams, Rod Stewart & Sting",
          "Survivor",
          "Rush",
          "ZZ Top",
          "The Beatles",
          "Marillion",
          "Jimi Hendrix",
          "Jethro Tull"
        ],
        "sdecandelario": [
          "Led Zeppelin",
          "Judas Priest",
          "Uriah Heep",
          "The Answer",
          "Molly Hatchet",
          "Meat Loaf",
          "Steppenwolf",
          "The Cult",
          "Toto",
          "ZZ Top",
          "Scorpions",
          "Lynyrd Skynyrd",
          "Whitesnake",
          "Jimi Hendrix",
          "Queen"
        ]
      },
      "top_artists": [
        "Uriah Heep",
        "The Answer",
        "Roger Glover",
        "The Cult",
        "Jimi Hendrix",
        "Jethro Tull",
        "Judas Priest",
        "ZZ Top",
        "Scorpions",
        "Bryan Adams, Rod Stewart & Sting"
      ],
      "top_albums": [
        "Roger Glover - The Butterfly Ball and the Grasshopper's Feast",
        "The Cult - Born Into This",
        "The Answer - Everyday Demons",
        "The Answer - Rise",
        "Uriah Heep - High And Mighty",
        "Uriah Heep - Wonderworld",
        "Uriah Heep - Return To Fantasy",
        "Uriah Heep - Sweet Freedom",
        "Jethro Tull - Aqualung",
        "Judas Priest - Defenders of the Faith"
      ]
    },
    {
      "name": "spanish",
      "count": 110,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 3,
        "sdecandelario": 107
      },
      "user_artists": {
        "Nubis84": [
          "Triana",
          "Los Suaves",
          "Lagartija Nick"
        ],
        "sdecandelario": [
          "La Polla Records",
          "Loquillo Y Los Trogloditas",
          "Loquillo",
          "Saurom",
          "Rata Blanca",
          "Tierra Santa"
        ]
      },
      "top_artists": [
        "Loquillo",
        "Rata Blanca",
        "Loquillo Y Los Trogloditas",
        "Saurom",
        "Los Suaves",
        "Lagartija Nick",
        "Triana",
        "La Polla Records",
        "Tierra Santa"
      ],
      "top_albums": [
        "Loquillo - Rock & Roll Star",
        "Rata Blanca - VII",
        "Rata Blanca - Entre el Cielo y el Infierno",
        "Rata Blanca - Guerrero del Arco Iris",
        "Rata Blanca - El Libro Oculto",
        "Loquillo Y Los Trogloditas - Mis Problemas Con Las Mujeres",
        "Los Suaves - Malas NotIcias",
        "La Polla Records - Hoy es el futuro",
        "Saurom - El Guardian de las Melodias Perdidas",
        "Saurom - Juglar Metal"
      ]
    },
    {
      "name": "electronic",
      "count": 97,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 55,
        "sdecandelario": 42
      },
      "user_artists": {
        "Nubis84": [
          "DJ Semi",
          "The Chemical Brothers",
          "Tim Hecker",
          "New Order",
          "The KLF",
          "The Human League",
          "The Prodigy",
          "Nine Inch Nails",
          "MGMT",
          "Afro Celt Sound System",
          "Surgeon",
          "Groove Chronicles",
          "Portishead",
          "Spark",
          "M83",
          "Panjabi MC",
          "Tangerine Dream",
          "Junkie XL",
          "Raymond Scott",
          "Natacha Atlas",
          "Primal Scream",
          "Radiohead"
        ],
        "sdecandelario": [
          "Coldcut",
          "New Order",
          "Haddaway",
          "Moby",
          "Skinny Puppy",
          "Propellerheads",
          "Putilatex",
          "R√∂yksopp",
          "Prodigy",
          "Scott Grooves",
          "Overseer",
          "Scanty Sandwich",
          "Prodƒ±gy",
          "Agent Provocateur",
          "The Chemical Brothers",
          "MGMT"
        ]
      },
      "top_artists": [
        "M83",
        "Putilatex",
        "Prodigy",
        "The Chemical Brothers",
        "MGMT",
        "New Order",
        "Radiohead",
        "The Prodigy",
        "Groove Chronicles",
        "Moby"
      ],
      "top_albums": [
        "M83 - Hurry Up, We're Dreaming",
        "Putilatex - Domund",
        "Prodigy - Invaders Must Die",
        "M83 - Midnight City",
        "Radiohead - The Best Of",
        "MGMT - Oracular Spectacular",
        "New Order - Blue Monday",
        "The Chemical Brothers - Push the Button",
        "Radiohead - OK Computer (Collector's Edition)",
        "Groove Chronicles - Ouchi Wally Stonecold RP002"
      ]
    },
    {
      "name": "medieval",
      "count": 86,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 1,
        "sdecandelario": 85
      },
      "user_artists": {
        "Nubis84": [
          "Atrium Musicae de Madrid"
        ],
        "sdecandelario": [
          "Tanzwut",
          "Saltatio Mortis"
        ]
      },
      "top_artists": [
        "Tanzwut",
        "Saltatio Mortis",
        "Atrium Musicae de Madrid"
      ],
      "top_albums": [
        "Tanzwut - Schattenreiter",
        "Saltatio Mortis - Wer Wind S√§t",
        "Saltatio Mortis - Aus Der Asche",
        "Tanzwut - Labyrinth Der Sinne",
        "Tanzwut - Ihr Wolltet Spass",
        "Saltatio Mortis - Des K√∂nigs Henker"
      ]
    },
    {
      "name": "80s",
      "count": 85,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 19,
        "sdecandelario": 66
      },
      "user_artists": {
        "Nubis84": [
          "Survivor",
          "New Order",
          "Michael Jackson",
          "The Human League",
          "The Cure",
          "Talk Talk",
          "The Specials"
        ],
        "sdecandelario": [
          "Tokyo Blade",
          "King Kobra",
          "New Order",
          "Nena",
          "M√∂tley Cr√ºe",
          "Meat Loaf",
          "Loquillo Y Los Trogloditas",
          "Ultravox",
          "Toto",
          "The Cult",
          "Scorpions",
          "Hanoi Rocks",
          "Warrant",
          "Whitesnake",
          "Queen",
          "W.A.S.P.",
          "Wham!"
        ]
      },
      "top_artists": [
        "Tokyo Blade",
        "King Kobra",
        "The Cult",
        "The Cure",
        "Talk Talk",
        "New Order",
        "Loquillo Y Los Trogloditas",
        "The Specials",
        "Michael Jackson",
        "Scorpions"
      ],
      "top_albums": [
        "King Kobra - King Kobra",
        "The Cult - Born Into This",
        "Tokyo Blade - Pumphouse",
        "Tokyo Blade - Thousand Men Strong",
        "Loquillo Y Los Trogloditas - Mis Problemas Con Las Mujeres",
        "New Order - Blue Monday",
        "Talk Talk - The Very Best Of",
        "Whitesnake - Whitesnake's Greatest Hits",
        "Scorpions - Fly To The Rainbow",
        "W.A.S.P. - W.A.S.P."
      ]
    },
    {
      "name": "british",
      "count": 79,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 7,
        "sdecandelario": 72
      },
      "user_artists": {
        "Nubis84": [
          "Miles Kane",
          "Wild Beasts",
          "The Beatles",
          "Marillion",
          "The Horrors"
        ],
        "sdecandelario": [
          "Wham!",
          "The Fratellis",
          "Onslaught",
          "Praying Mantis"
        ]
      },
      "top_artists": [
        "Praying Mantis",
        "Onslaught",
        "Wild Beasts",
        "The Horrors",
        "The Fratellis",
        "Marillion",
        "Miles Kane",
        "The Beatles",
        "Wham!"
      ],
      "top_albums": [
        "Praying Mantis - To the Power of Ten",
        "Onslaught - Sounds of Violence",
        "Praying Mantis - A Cry for the New World",
        "Praying Mantis - The Journey Goes On",
        "Praying Mantis - Forever in Time",
        "Onslaught - Killing Peace",
        "Praying Mantis - Time Tells No Lies",
        "Wild Beasts - Albatross",
        "The Horrors - Skying",
        "The Fratellis - Costello Music"
      ]
    },
    {
      "name": "Progressive rock",
      "count": 74,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 34,
        "sdecandelario": 40
      },
      "user_artists": {
        "Nubis84": [
          "Redemption",
          "Rush",
          "Muse",
          "Puscifer",
          "Lunatic Soul",
          "Tangerine Dream",
          "Triana",
          "Attention Deficit",
          "Marillion",
          "Steven Wilson",
          "Porcupine Tree",
          "Leprous",
          "Jethro Tull"
        ],
        "sdecandelario": [
          "Led Zeppelin",
          "Uriah Heep",
          "Toto"
        ]
      },
      "top_artists": [
        "Uriah Heep",
        "Steven Wilson",
        "Jethro Tull",
        "Lunatic Soul",
        "Leprous",
        "Redemption",
        "Marillion",
        "Muse",
        "Attention Deficit",
        "Rush"
      ],
      "top_albums": [
        "Steven Wilson - Grace for Drowning",
        "Uriah Heep - High And Mighty",
        "Uriah Heep - Wonderworld",
        "Uriah Heep - Return To Fantasy",
        "Uriah Heep - Sweet Freedom",
        "Jethro Tull - Aqualung",
        "Jethro Tull - The Best Of Acoustic Jethro Tull",
        "Led Zeppelin - Led Zeppelin II",
        "Toto - Pure... Hard Rock"
      ]
    },
    {
      "name": "Spanish Rock",
      "count": 64,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 1,
        "sdecandelario": 63
      },
      "user_artists": {
        "Nubis84": [
          "Los Suaves"
        ],
        "sdecandelario": [
          "La Polla Records",
          "Loquillo Y Los Trogloditas",
          "Loquillo"
        ]
      },
      "top_artists": [
        "Loquillo",
        "Loquillo Y Los Trogloditas",
        "Los Suaves",
        "La Polla Records"
      ],
      "top_albums": [
        "Loquillo - Rock & Roll Star",
        "Loquillo Y Los Trogloditas - Mis Problemas Con Las Mujeres",
        "Los Suaves - Malas NotIcias",
        "La Polla Records - Hoy es el futuro"
      ]
    },
    {
      "name": "indie rock",
      "count": 64,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 17,
        "sdecandelario": 47
      },
      "user_artists": {
        "Nubis84": [
          "Miles Kane",
          "Wild Beasts",
          "The Drums",
          "The Shins",
          "The Antlers",
          "The National",
          "The White Stripes",
          "Lagartija Nick",
          "Kashmir",
          "Wilco",
          "The Strokes",
          "Interpol",
          "The Flaming Lips"
        ],
        "sdecandelario": [
          "The Strokes",
          "The White Stripes",
          "The Fratellis",
          "The Killers"
        ]
      },
      "top_artists": [
        "The Killers",
        "The White Stripes",
        "Wilco",
        "The Drums",
        "Wild Beasts",
        "The Strokes",
        "The Antlers",
        "The Fratellis",
        "The Shins",
        "Lagartija Nick"
      ],
      "top_albums": [
        "The Killers - Hot Fuss",
        "The Killers - Day & Age",
        "The Killers - Sam's Town",
        "The Drums - Money",
        "Wild Beasts - Albatross",
        "The Antlers - Burst Apart",
        "The Fratellis - Costello Music",
        "The White Stripes - White Blood Cells",
        "Wilco - Wilco [The Album]",
        "Miles Kane - Rearrange"
      ]
    },
    {
      "name": "Rock and Roll",
      "count": 59,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 1,
        "sdecandelario": 58
      },
      "user_artists": {
        "Nubis84": [
          "Screamin' Jay Hawkins"
        ],
        "sdecandelario": [
          "Loquillo"
        ]
      },
      "top_artists": [
        "Loquillo",
        "Screamin' Jay Hawkins"
      ],
      "top_albums": [
        "Loquillo - Rock & Roll Star"
      ]
    },
    {
      "name": "industrial",
      "count": 56,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 5,
        "sdecandelario": 51
      },
      "user_artists": {
        "Nubis84": [
          "Puscifer",
          "Nine Inch Nails",
          "The Prodigy",
          "Marilyn Manson"
        ],
        "sdecandelario": [
          "Skinny Puppy",
          "Overseer",
          "Tanzwut",
          "Pain",
          "Agent Provocateur"
        ]
      },
      "top_artists": [
        "Tanzwut",
        "Pain",
        "The Prodigy",
        "Marilyn Manson",
        "Nine Inch Nails",
        "Puscifer",
        "Agent Provocateur",
        "Overseer",
        "Skinny Puppy"
      ],
      "top_albums": [
        "Tanzwut - Schattenreiter",
        "Tanzwut - Labyrinth Der Sinne",
        "Tanzwut - Ihr Wolltet Spass",
        "Pain - Nothing Remains The Same",
        "Agent Provocateur - Off The Wall - Ten Years of Wall of Sound",
        "Pain - Psalms of Extinction",
        "Pain - Pain",
        "Overseer - Blade:Trinity",
        "Skinny Puppy - Bites"
      ]
    },
    {
      "name": "70s",
      "count": 55,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 15,
        "sdecandelario": 40
      },
      "user_artists": {
        "Nubis84": [
          "Roger Glover"
        ],
        "sdecandelario": [
          "Led Zeppelin",
          "Lynyrd Skynyrd",
          "Uriah Heep"
        ]
      },
      "top_artists": [
        "Uriah Heep",
        "Roger Glover",
        "Led Zeppelin",
        "Lynyrd Skynyrd"
      ],
      "top_albums": [
        "Roger Glover - The Butterfly Ball and the Grasshopper's Feast",
        "Uriah Heep - High And Mighty",
        "Uriah Heep - Wonderworld",
        "Uriah Heep - Return To Fantasy",
        "Uriah Heep - Sweet Freedom",
        "Led Zeppelin - Led Zeppelin II",
        "Lynyrd Skynyrd - Old Skool of Rock"
      ]
    },
    {
      "name": "electronica",
      "count": 45,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 34,
        "sdecandelario": 11
      },
      "user_artists": {
        "Nubis84": [
          "The KLF",
          "The Prodigy",
          "Junkie XL",
          "M83",
          "The Chemical Brothers"
        ],
        "sdecandelario": [
          "Coldcut",
          "Moby",
          "Propellerheads",
          "R√∂yksopp",
          "Overseer",
          "The Chemical Brothers"
        ]
      },
      "top_artists": [
        "M83",
        "The Chemical Brothers",
        "The Prodigy",
        "Moby",
        "R√∂yksopp",
        "Junkie XL",
        "The KLF",
        "Propellerheads",
        "Coldcut",
        "Overseer"
      ],
      "top_albums": [
        "M83 - Hurry Up, We're Dreaming",
        "M83 - Midnight City",
        "The Chemical Brothers - Push the Button",
        "The Chemical Brothers - Surrender",
        "Moby - Play",
        "Propellerheads - Austin Powers: The Spy Who Shagged Me, More Music From The Motion Picture",
        "The Chemical Brothers - The Boxer",
        "R√∂yksopp - Junior",
        "R√∂yksopp - Happy Up Here",
        "Coldcut - Let Us Replay"
      ]
    },
    {
      "name": "folk rock",
      "count": 45,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 4,
        "sdecandelario": 41
      },
      "user_artists": {
        "Nubis84": [
          "The Pogues",
          "Jethro Tull"
        ],
        "sdecandelario": [
          "Saltatio Mortis"
        ]
      },
      "top_artists": [
        "Saltatio Mortis",
        "Jethro Tull",
        "The Pogues"
      ],
      "top_albums": [
        "Saltatio Mortis - Wer Wind S√§t",
        "Saltatio Mortis - Aus Der Asche",
        "Saltatio Mortis - Des K√∂nigs Henker",
        "Jethro Tull - Aqualung",
        "Jethro Tull - The Best Of Acoustic Jethro Tull"
      ]
    },
    {
      "name": "Progressive metal",
      "count": 36,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 10,
        "sdecandelario": 26
      },
      "user_artists": {
        "Nubis84": [
          "Redemption",
          "Opeth",
          "Meshuggah",
          "Porcupine Tree",
          "Leprous"
        ],
        "sdecandelario": [
          "King Diamond",
          "Savatage"
        ]
      },
      "top_artists": [
        "Savatage",
        "King Diamond",
        "Opeth",
        "Leprous",
        "Redemption",
        "Meshuggah",
        "Porcupine Tree"
      ],
      "top_albums": [
        "King Diamond - Give Me Your Soul...Please",
        "Savatage - Sirens",
        "Opeth - Heritage",
        "Savatage - Hall of the Mountain King"
      ]
    },
    {
      "name": "Hip-Hop",
      "count": 34,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 5,
        "sdecandelario": 29
      },
      "user_artists": {
        "Nubis84": [
          "Sissy Nobby",
          "Camp Lo",
          "Panjabi MC",
          "Tyler, The Creator"
        ],
        "sdecandelario": [
          "Prodƒ±gy",
          "Prodigy",
          "Omen"
        ]
      },
      "top_artists": [
        "Omen",
        "Prodigy",
        "Tyler, The Creator",
        "Sissy Nobby",
        "Panjabi MC",
        "Camp Lo",
        "Prodƒ±gy"
      ],
      "top_albums": [
        "Omen - Eternal Black Dawn",
        "Omen - Escape to Nowhere",
        "Prodigy - Invaders Must Die",
        "Tyler, The Creator - Yonkers",
        "Prodƒ±gy - Fat Of The Land",
        "Omen - Reopening the Gates",
        "Prodigy - Music for the Jilted Generation",
        "Prodigy - Their Law the Singles 1990 - 2005"
      ]
    },
    {
      "name": "rap",
      "count": 33,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 4,
        "sdecandelario": 29
      },
      "user_artists": {
        "Nubis84": [
          "Sissy Nobby",
          "Camp Lo",
          "Tyler, The Creator"
        ],
        "sdecandelario": [
          "Prodƒ±gy",
          "Prodigy",
          "Omen"
        ]
      },
      "top_artists": [
        "Omen",
        "Prodigy",
        "Tyler, The Creator",
        "Sissy Nobby",
        "Camp Lo",
        "Prodƒ±gy"
      ],
      "top_albums": [
        "Omen - Eternal Black Dawn",
        "Omen - Escape to Nowhere",
        "Prodigy - Invaders Must Die",
        "Tyler, The Creator - Yonkers",
        "Prodƒ±gy - Fat Of The Land",
        "Omen - Reopening the Gates",
        "Prodigy - Music for the Jilted Generation",
        "Prodigy - Their Law the Singles 1990 - 2005"
      ]
    },
    {
      "name": "horror punk",
      "count": 33,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 2,
        "sdecandelario": 31
      },
      "user_artists": {
        "Nubis84": [
          "The Horrors"
        ],
        "sdecandelario": [
          "Danzig"
        ]
      },
      "top_artists": [
        "Danzig",
        "The Horrors"
      ],
      "top_albums": [
        "Danzig - Danzig II: Lucifuge",
        "Danzig - Danzig III: How the Gods Kill",
        "Danzig - Danzig",
        "The Horrors - Skying"
      ]
    },
    {
      "name": "danish",
      "count": 31,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 1,
        "sdecandelario": 30
      },
      "user_artists": {
        "Nubis84": [
          "Kashmir"
        ],
        "sdecandelario": [
          "Mercyful Fate"
        ]
      },
      "top_artists": [
        "Mercyful Fate",
        "Kashmir"
      ],
      "top_albums": [
        "Mercyful Fate - 9",
        "Mercyful Fate - Dead Again",
        "Mercyful Fate - Into The Unknown"
      ]
    },
    {
      "name": "experimental",
      "count": 28,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 27,
        "sdecandelario": 1
      },
      "user_artists": {
        "Nubis84": [
          "Tim Hecker",
          "Milla Jovovich",
          "Lunatic Soul",
          "Wild Beasts",
          "Five Or Six",
          "Panda Bear",
          "Raymond Scott",
          "Steven Wilson"
        ],
        "sdecandelario": [
          "Skinny Puppy"
        ]
      },
      "top_artists": [
        "Steven Wilson",
        "Wild Beasts",
        "Lunatic Soul",
        "Panda Bear",
        "Five Or Six",
        "Raymond Scott",
        "Tim Hecker",
        "Milla Jovovich",
        "Skinny Puppy"
      ],
      "top_albums": [
        "Steven Wilson - Grace for Drowning",
        "Wild Beasts - Albatross",
        "Skinny Puppy - Bites"
      ]
    }
  ],
  "labels": [
    {
      "name": "[no label]",
      "count": 33,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 2,
        "sdecandelario": 31
      },
      "user_artists": {
        "Nubis84": [
          "The National",
          "Bj√∂rk"
        ],
        "sdecandelario": [
          "White Wizzard",
          "El Reno Renardo",
          "Saurom",
          "Corvus Corax"
        ]
      },
      "top_artists": [
        "El Reno Renardo",
        "White Wizzard",
        "Corvus Corax",
        "Bj√∂rk",
        "The National",
        "Saurom"
      ],
      "top_albums": [
        "El Reno Renardo - El Improperio Contraataca",
        "White Wizzard - Flying Tigers",
        "Corvus Corax - Ante Casu Peccati",
        "Bj√∂rk - Crystalline",
        "The National - Exile Vilify (From the Game Portal 2) - Single",
        "Saurom - El Guardian de las Melodias Perdidas"
      ]
    },
    {
      "name": "Factory",
      "count": 2,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 1,
        "sdecandelario": 1
      },
      "user_artists": {
        "Nubis84": [
          "New Order"
        ],
        "sdecandelario": [
          "New Order"
        ]
      },
      "top_artists": [
        "New Order"
      ],
      "top_albums": [
        "New Order - Blue Monday"
      ]
    },
    {
      "name": "RCA",
      "count": 2,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 1,
        "sdecandelario": 1
      },
      "user_artists": {
        "Nubis84": [
          "The Strokes"
        ],
        "sdecandelario": [
          "Scorpions"
        ]
      },
      "top_artists": [
        "The Strokes",
        "Scorpions"
      ],
      "top_albums": [
        "The Strokes - Angles",
        "Scorpions - Fly To The Rainbow"
      ]
    }
  ],
  "years": [
    {
      "name": "2007",
      "count": 65,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 1,
        "sdecandelario": 64
      },
      "user_artists": {
        "Nubis84": [
          "Bryan McPherson"
        ],
        "sdecandelario": [
          "Nena",
          "Saltatio Mortis",
          "The Fratellis",
          "Scorpions",
          "Agent Steel",
          "Tankard",
          "Danzig",
          "The Cult",
          "Wham!"
        ]
      },
      "top_artists": [
        "Saltatio Mortis",
        "Tankard",
        "The Cult",
        "Danzig",
        "Agent Steel",
        "The Fratellis",
        "Bryan McPherson",
        "Scorpions",
        "Nena",
        "Wham!"
      ],
      "top_albums": [
        "Saltatio Mortis - Aus Der Asche",
        "Tankard - Disco Destroyer",
        "The Cult - Born Into This",
        "Danzig - Danzig",
        "Agent Steel - Alienigma",
        "The Fratellis - Costello Music",
        "Bryan McPherson - Fourteen Stories",
        "Scorpions - Fly To The Rainbow",
        "Nena - 100 Hits of the '80s",
        "Wham! - 100 Hits of the '80s"
      ]
    },
    {
      "name": "2011",
      "count": 57,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 14,
        "sdecandelario": 43
      },
      "user_artists": {
        "Nubis84": [
          "the Picturesque Episodes",
          "Wild Beasts",
          "The National",
          "The Antlers",
          "Bon Iver",
          "The Strokes",
          "The Pains of Being Pure at Heart",
          "Bj√∂rk"
        ],
        "sdecandelario": [
          "White Wizzard",
          "Edguy",
          "Powerwolf",
          "Omen"
        ]
      },
      "top_artists": [
        "White Wizzard",
        "Edguy",
        "Powerwolf",
        "Omen",
        "Bon Iver",
        "Wild Beasts",
        "The Pains of Being Pure at Heart",
        "The Antlers",
        "the Picturesque Episodes",
        "Bj√∂rk"
      ],
      "top_albums": [
        "White Wizzard - Flying Tigers",
        "Edguy - Age of the Joker",
        "Powerwolf - Blood of the Saints",
        "Omen - Escape to Nowhere",
        "Bon Iver - Calgary",
        "Wild Beasts - Albatross",
        "The Pains of Being Pure at Heart - Belong",
        "The Antlers - Burst Apart",
        "the Picturesque Episodes - Cosmogenesis",
        "Bj√∂rk - Crystalline"
      ]
    },
    {
      "name": "2010",
      "count": 44,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 2,
        "sdecandelario": 42
      },
      "user_artists": {
        "Nubis84": [
          "Electric Wizard"
        ],
        "sdecandelario": [
          "Fury UK",
          "Exciter",
          "El Reno Renardo",
          "Apollo 440",
          "Doro"
        ]
      },
      "top_artists": [
        "Doro",
        "El Reno Renardo",
        "Exciter",
        "Electric Wizard",
        "Fury UK",
        "Apollo 440"
      ],
      "top_albums": [
        "Doro - Calling the Wild",
        "El Reno Renardo - El Improperio Contraataca",
        "Exciter - Death Machine",
        "Electric Wizard - Black Masses",
        "Fury UK - A Way Of Life",
        "Apollo 440 - Essential - Chill Out"
      ]
    },
    {
      "name": "2001",
      "count": 15,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 3,
        "sdecandelario": 12
      },
      "user_artists": {
        "Nubis84": [
          "Staind"
        ],
        "sdecandelario": [
          "Fischerspooner",
          "Manilla Road",
          "Skinny Puppy"
        ]
      },
      "top_artists": [
        "Manilla Road",
        "Staind",
        "Fischerspooner",
        "Skinny Puppy"
      ],
      "top_albums": [
        "Manilla Road - Atlantis Rising",
        "Staind - Break the Cycle",
        "Fischerspooner - Emerge",
        "Skinny Puppy - Bites"
      ]
    },
    {
      "name": "2016",
      "count": 5,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 2,
        "sdecandelario": 3
      },
      "user_artists": {
        "Nubis84": [
          "Jethro Tull"
        ],
        "sdecandelario": [
          "Deftones",
          "DJ Shadow"
        ]
      },
      "top_artists": [
        "Jethro Tull",
        "Deftones",
        "DJ Shadow"
      ],
      "top_albums": [
        "Jethro Tull - Aqualung",
        "Deftones - Diamond Eyes",
        "DJ Shadow - Endtroducing"
      ]
    },
    {
      "name": "1983",
      "count": 2,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 1,
        "sdecandelario": 1
      },
      "user_artists": {
        "Nubis84": [
          "New Order"
        ],
        "sdecandelario": [
          "New Order"
        ]
      },
      "top_artists": [
        "New Order"
      ],
      "top_albums": [
        "New Order - Blue Monday"
      ]
    }
  ],
  "novelties": {
    "nuevos": {
      "artists": [
        {
          "name": "Demon",
          "count": 32,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1315567207
        }
      ],
      "albums": [
        {
          "name": "Corvus Corax - Mille Anni Passi Sunt",
          "artist": "Corvus Corax",
          "album": "Mille Anni Passi Sunt",
          "count": 14,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1317317210
        },
        {
          "name": "Roger Glover - The Butterfly Ball and the Grasshopper's Feast",
          "artist": "Roger Glover",
          "album": "The Butterfly Ball and the Grasshopper's Feast",
          "count": 15,
          "users": [
            "Nubis84"
          ],
          "first_date": 1317303753
        },
        {
          "name": "Rata Blanca - VII",
          "artist": "Rata Blanca",
          "album": "VII",
          "count": 14,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1317192548
        },
        {
          "name": "Dropkick Murphys - Do or Die",
          "artist": "Dropkick Murphys",
          "album": "Do or Die",
          "count": 16,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1316805954
        },
        {
          "name": "Tanzwut - Schattenreiter",
          "artist": "Tanzwut",
          "album": "Schattenreiter",
          "count": 19,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1316510874
        },
        {
          "name": "Gogol Bordello - Vio-la Intruder",
          "artist": "Gogol Bordello",
          "album": "Vio-la Intruder",
          "count": 15,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1316468734
        },
        {
          "name": "Queens of the Stone Age - Songs for the Deaf",
          "artist": "Queens of the Stone Age",
          "album": "Songs for the Deaf",
          "count": 15,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1316271051
        },
        {
          "name": "Franz Ferdinand - Tonight: Franz Ferdinand",
          "artist": "Franz Ferdinand",
          "album": "Tonight: Franz Ferdinand",
          "count": 18,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1315584221
        },
        {
          "name": "M83 - Hurry Up, We're Dreaming",
          "artist": "M83",
          "album": "Hurry Up, We're Dreaming",
          "count": 25,
          "users": [
            "Nubis84"
          ],
          "first_date": 1315559614
        },
        {
          "name": "Tankard - The Tankard",
          "artist": "Tankard",
          "album": "The Tankard",
          "count": 19,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1315412914
        }
      ],
      "tracks": [
        {
          "name": "Satanic Army - Fuck christ",
          "artist": "Satanic Army",
          "track": "Fuck christ",
          "count": 2,
          "users": [
            "Nubis84"
          ],
          "first_date": 1317337002
        },
        {
          "name": "ColdWorld - Winterreise",
          "artist": "ColdWorld",
          "track": "Winterreise",
          "count": 2,
          "users": [
            "Nubis84"
          ],
          "first_date": 1317289569
        },
        {
          "name": "David Sylvian - Forbidden Colours",
          "artist": "David Sylvian",
          "track": "Forbidden Colours",
          "count": 2,
          "users": [
            "Nubis84"
          ],
          "first_date": 1316684150
        },
        {
          "name": "Steven Wilson - Like Dust I Have Cleared From My Eye",
          "artist": "Steven Wilson",
          "track": "Like Dust I Have Cleared From My Eye",
          "count": 3,
          "users": [
            "Nubis84"
          ],
          "first_date": 1316517895
        },
        {
          "name": "Steven Wilson - Track One (from Grace for Drowning)",
          "artist": "Steven Wilson",
          "track": "Track One (from Grace for Drowning)",
          "count": 2,
          "users": [
            "Nubis84"
          ],
          "first_date": 1316517146
        },
        {
          "name": "Steven Wilson - Postcard (Radio Edit)",
          "artist": "Steven Wilson",
          "track": "Postcard (Radio Edit)",
          "count": 2,
          "users": [
            "Nubis84"
          ],
          "first_date": 1316516083
        },
        {
          "name": "Loquillo Y Los Trogloditas - La Matar√©",
          "artist": "Loquillo Y Los Trogloditas",
          "track": "La Matar√©",
          "count": 4,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1315980389
        },
        {
          "name": "Sigur R√≥s - Refur",
          "artist": "Sigur R√≥s",
          "track": "Refur",
          "count": 4,
          "users": [
            "Nubis84"
          ],
          "first_date": 1315152919
        },
        {
          "name": "Loquillo - La matar√©",
          "artist": "Loquillo",
          "track": "La matar√©",
          "count": 4,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1315076456
        }
      ]
    },
    "nuevos_compartidos": {
      "artists": [],
      "albums": [],
      "tracks": []
    },
    "nuevos_para_usuario": {
      "artists": [],
      "albums": [],
      "tracks": []
    },
    "nuevos_para_usuarios": {
      "Nubis84": {
        "artists": [
          {
            "name": "The Strokes",
            "period_count": 1,
            "total_count": 53,
            "coincident_users": [
              "sdecandelario"
            ],
            "num_coincidences": 1,
            "first_date": 1316025010
          }
        ],
        "albums": [
          {
            "name": "New Order - Blue Monday",
            "artist": "New Order",
            "album": "Blue Monday",
            "period_count": 1,
            "total_count": 3,
            "coincident_users": [
              "sdecandelario"
            ],
            "num_coincidences": 1,
            "first_date": 1316527891
          }
        ],
        "tracks": []
      },
      "sdecandelario": {
        "artists": [
          {
            "name": "New Order",
            "period_count": 3,
            "total_count": 762,
            "coincident_users": [
              "Nubis84"
            ],
            "num_coincidences": 1,
            "first_date": 1315753729
          }
        ],
        "albums": [
          {
            "name": "New Order - Blue Monday",
            "artist": "New Order",
            "album": "Blue Monday",
            "period_count": 1,
            "total_count": 16,
            "coincident_users": [
              "Nubis84"
            ],
            "num_coincidences": 1,
            "first_date": 1315753729
          }
        ],
        "tracks": [
          {
            "name": "New Order - Blue Monday",
            "artist": "New Order",
            "track": "Blue Monday",
            "period_count": 1,
            "total_count": 28,
            "coincident_users": [
              "Nubis84"
            ],
            "num_coincidences": 1,
            "first_date": 1315753729
          }
        ]
      }
    }
  },
  "period_label": "September 2011",
  "from_date": "2011-09-01",
  "to_date": "2011-09-30",
  "generated_at": "2025-11-14 20:06"
};
        const hasNovelties = stats.novelties !== undefined;

        // Funci√≥n para obtener novedades de usuario desde datos precalculados
        function getUserNovelties(user) {
            if (!stats.novelties || !stats.novelties.nuevos_para_usuarios) {
                return { artists: [], albums: [], tracks: [] };
            }

            return stats.novelties.nuevos_para_usuarios[user] || { artists: [], albums: [], tracks: [] };
        }

        // Funcionalidad del bot√≥n de usuario
        function initializeUserSelector() {
            const userButton = document.getElementById('userButton');
            const userModal = document.getElementById('userModal');
            const userModalClose = document.getElementById('userModalClose');
            const userOptions = document.getElementById('userOptions');

            // Cargar usuario guardado desde localStorage
            let selectedUser = localStorage.getItem('lastfm_selected_user') || '';

            // Llenar opciones de usuarios
            availableUsers.forEach(user => {
                const option = document.createElement('div');
                option.className = 'user-option';
                option.dataset.user = user;
                option.textContent = user;
                userOptions.appendChild(option);
            });

            // Marcar opci√≥n seleccionada
            updateSelectedUserOption(selectedUser);

            // Event listeners
            userButton.addEventListener('click', () => {
                userModal.style.display = 'block';
            });

            userModalClose.addEventListener('click', () => {
                userModal.style.display = 'none';
            });

            userModal.addEventListener('click', (e) => {
                if (e.target === userModal) {
                    userModal.style.display = 'none';
                }
            });

            userOptions.addEventListener('click', (e) => {
                if (e.target.classList.contains('user-option')) {
                    const user = e.target.dataset.user;
                    selectedUser = user;

                    // Guardar en localStorage
                    if (user) {
                        localStorage.setItem('lastfm_selected_user', user);
                    } else {
                        localStorage.removeItem('lastfm_selected_user');
                    }

                    updateSelectedUserOption(user);
                    userModal.style.display = 'none';
                    renderStats(); // Re-renderizar con nuevo usuario
                }
            });

            return selectedUser;
        }

        function updateSelectedUserOption(selectedUser) {
            const userOptions = document.getElementById('userOptions');
            userOptions.querySelectorAll('.user-option').forEach(option => {
                option.classList.remove('selected');
                if (option.dataset.user === selectedUser) {
                    option.classList.add('selected');
                }
            });
        }

        // Inicializar categor√≠as activas
        let activeCategories = new Set(['artists']); // Por defecto mostrar artistas
        let selectedUser = '';

        document.getElementById('dateRange').textContent = `${stats.from_date || ''} ‚Üí ${stats.to_date || ''}`;
        document.getElementById('totalScrobbles').textContent = stats.total_scrobbles || 0;
        document.getElementById('generatedAt').textContent = stats.generated_at || '';

        // Manejar filtros de categor√≠as
        const categoryFilters = document.querySelectorAll('.category-filter');
        categoryFilters.forEach(filter => {
            filter.addEventListener('click', () => {
                const category = filter.dataset.category;

                if (activeCategories.has(category)) {
                    activeCategories.delete(category);
                    filter.classList.remove('active');
                } else {
                    activeCategories.add(category);
                    filter.classList.add('active');
                }

                renderStats();
            });
        });

        function showArtistsPopup(itemName, category, user) {
            const item = stats[category].find(item => item.name === itemName);
            if (!item || !item.user_artists || !item.user_artists[user]) return;

            const artists = item.user_artists[user];

            // Crear overlay
            const overlay = document.createElement('div');
            overlay.className = 'popup-overlay';

            // Crear popup
            const popup = document.createElement('div');
            popup.className = 'artists-popup';

            const header = document.createElement('div');
            header.className = 'popup-header';

            const closeBtn = document.createElement('button');
            closeBtn.className = 'popup-close';
            closeBtn.innerHTML = '√ó';
            closeBtn.onclick = () => {
                document.body.removeChild(overlay);
                document.body.removeChild(popup);
            };

            header.innerHTML = `Artistas de ${user} en "${itemName}"`;
            header.appendChild(closeBtn);

            const artistList = document.createElement('ul');
            artistList.className = 'artist-list';

            artists.forEach(artist => {
                const li = document.createElement('li');
                li.textContent = artist;
                artistList.appendChild(li);
            });

            popup.appendChild(header);
            popup.appendChild(artistList);

            // Cerrar al hacer click en overlay
            overlay.onclick = () => {
                document.body.removeChild(overlay);
                document.body.removeChild(popup);
            };

            document.body.appendChild(overlay);
            document.body.appendChild(popup);
        }

        function createNoveltyItem(item, selectedUser) {
            const itemDiv = document.createElement('div');
            itemDiv.className = 'item';

            if (selectedUser && item.users.includes(selectedUser)) {
                itemDiv.classList.add('highlighted');
            }

            const itemName = document.createElement('div');
            itemName.className = 'item-name';
            itemName.textContent = item.name;
            itemDiv.appendChild(itemName);

            const itemMeta = document.createElement('div');
            itemMeta.className = 'item-meta';

            // Conteo de plays si existe
            if (item.count) {
                const countBadge = document.createElement('span');
                countBadge.className = 'badge';
                countBadge.textContent = `${item.count} plays`;
                itemMeta.appendChild(countBadge);
            }

            // Fecha de primer scrobble
            const date = new Date(item.first_date * 1000);
            const dateBadge = document.createElement('span');
            dateBadge.className = 'badge';
            dateBadge.textContent = `Primera vez: ${date.toLocaleDateString('es-ES')}`;
            itemMeta.appendChild(dateBadge);

            // Usuarios que lo han escuchado
            item.users.forEach(user => {
                const userBadge = document.createElement('span');
                userBadge.className = 'user-badge';
                if (user === selectedUser) {
                    userBadge.classList.add('highlighted-user');
                }
                userBadge.textContent = user;
                itemMeta.appendChild(userBadge);
            });

            itemDiv.appendChild(itemMeta);
            return itemDiv;
        }

        function createUserNoveltyItem(item, selectedUser) {
            const itemDiv = document.createElement('div');
            itemDiv.className = 'item';
            itemDiv.classList.add('highlighted'); // Siempre resaltado para el usuario

            const itemName = document.createElement('div');
            itemName.className = 'item-name';
            itemName.textContent = item.name;
            itemDiv.appendChild(itemName);

            const itemMeta = document.createElement('div');
            itemMeta.className = 'item-meta';

            // Total de scrobbles del usuario para este elemento
            if (item.total_count) {
                const totalBadge = document.createElement('span');
                totalBadge.className = 'badge';
                totalBadge.style.background = '#cba6f7';
                totalBadge.style.color = '#1e1e2e';
                totalBadge.textContent = `${item.total_count} total plays`;
                itemMeta.appendChild(totalBadge);
            }

            // Scrobbles en este per√≠odo
            if (item.period_count) {
                const periodBadge = document.createElement('span');
                periodBadge.className = 'badge';
                periodBadge.textContent = `${item.period_count} plays per√≠odo`;
                itemMeta.appendChild(periodBadge);
            }

            // Fecha de primera vez del usuario (si est√° disponible)
            if (item.first_date || item.user_first_date) {
                const date = new Date((item.first_date || item.user_first_date) * 1000);
                const dateBadge = document.createElement('span');
                dateBadge.className = 'badge';
                dateBadge.style.background = '#a6e3a1';
                dateBadge.style.color = '#1e1e2e';
                dateBadge.textContent = `Primera vez: ${date.toLocaleDateString('es-ES')}`;
                itemMeta.appendChild(dateBadge);
            }

            // Usuarios que tambi√©n lo escucharon (coincidencias)
            if (item.coincident_users && item.coincident_users.length > 0) {
                item.coincident_users.forEach(user => {
                    const userBadge = document.createElement('span');
                    userBadge.className = 'user-badge';
                    userBadge.textContent = user;
                    itemMeta.appendChild(userBadge);
                });
            }

            // Informaci√≥n de coincidencias
            if (item.num_coincidences) {
                const coincidencesBadge = document.createElement('span');
                coincidencesBadge.className = 'badge';
                coincidencesBadge.style.background = '#f38ba8';
                coincidencesBadge.style.color = '#1e1e2e';
                coincidencesBadge.textContent = `${item.num_coincidences} coincidencias`;
                itemMeta.appendChild(coincidencesBadge);
            }

            itemDiv.appendChild(itemMeta);
            return itemDiv;
        }

        function renderStats() {
            const container = document.getElementById('categoriesContainer');
            container.innerHTML = '';

            const categoryTitles = {
                artists: 'Artistas M√°s Escuchados',
                tracks: 'Canciones M√°s Escuchadas',
                albums: '√Ålbumes M√°s Escuchados',
                genres: 'G√©neros M√°s Escuchados',
                labels: 'Sellos M√°s Escuchados',
                years: 'A√±os M√°s Escuchados',
                novelties: 'Novedades'
            };

            let hasData = false;

            ['artists', 'tracks', 'albums', 'genres', 'labels', 'years', 'novelties'].forEach(categoryKey => {
                if (!activeCategories.has(categoryKey)) return;

                // Manejo especial para novedades
                if (categoryKey === 'novelties') {
                    if (!hasNovelties || !stats.novelties) return;

                    hasData = true;
                    const categoryDiv = document.createElement('div');
                    categoryDiv.className = 'category visible';
                    categoryDiv.dataset.category = categoryKey;

                    const title = document.createElement('h3');
                    title.textContent = categoryTitles[categoryKey];
                    categoryDiv.appendChild(title);

                    // NUEVOS PARA TODOS
                    const nuevosSection = document.createElement('div');
                    nuevosSection.className = 'novelty-section';

                    const nuevosTitle = document.createElement('h4');
                    nuevosTitle.textContent = 'üÜï Nuevos para todos';
                    nuevosSection.appendChild(nuevosTitle);

                    ['artists', 'albums', 'tracks'].forEach(type => {
                        const subsection = document.createElement('div');
                        subsection.className = 'novelty-subsection';

                        const subsectionTitle = document.createElement('h5');
                        subsectionTitle.textContent = type === 'artists' ? 'Artistas' :
                                                     type === 'albums' ? '√Ålbumes' : 'Canciones';
                        subsection.appendChild(subsectionTitle);

                        const items = stats.novelties.nuevos[type];
                        if (items && items.length > 0) {
                            items.forEach(item => {
                                const itemDiv = createNoveltyItem(item, selectedUser);
                                subsection.appendChild(itemDiv);
                            });
                        } else {
                            const emptyDiv = document.createElement('div');
                            emptyDiv.className = 'novelty-empty';
                            emptyDiv.textContent = 'No hay elementos nuevos';
                            subsection.appendChild(emptyDiv);
                        }

                        nuevosSection.appendChild(subsection);
                    });

                    categoryDiv.appendChild(nuevosSection);

                    // NUEVOS COMPARTIDOS
                    const compartidosSection = document.createElement('div');
                    compartidosSection.className = 'novelty-section';

                    const compartidosTitle = document.createElement('h4');
                    compartidosTitle.textContent = 'üë• Nuevos compartidos (50%+ del grupo)';
                    compartidosSection.appendChild(compartidosTitle);

                    ['artists', 'albums', 'tracks'].forEach(type => {
                        const subsection = document.createElement('div');
                        subsection.className = 'novelty-subsection';

                        const subsectionTitle = document.createElement('h5');
                        subsectionTitle.textContent = type === 'artists' ? 'Artistas' :
                                                     type === 'albums' ? '√Ålbumes' : 'Canciones';
                        subsection.appendChild(subsectionTitle);

                        const items = stats.novelties.nuevos_compartidos[type];
                        if (items && items.length > 0) {
                            items.forEach(item => {
                                const itemDiv = createNoveltyItem(item, selectedUser);
                                subsection.appendChild(itemDiv);
                            });
                        } else {
                            const emptyDiv = document.createElement('div');
                            emptyDiv.className = 'novelty-empty';
                            emptyDiv.textContent = 'No hay elementos nuevos compartidos';
                            subsection.appendChild(emptyDiv);
                        }

                        compartidosSection.appendChild(subsection);
                    });

                    // NUEVOS PARA USUARIO SELECCIONADO
                    if (selectedUser) {
                        const usuarioSection = document.createElement('div');
                        usuarioSection.className = 'novelty-section';

                        const usuarioTitle = document.createElement('h4');
                        usuarioTitle.textContent = `üë§ Nuevos para ${selectedUser} (ya conocidos por el grupo)`;
                        usuarioSection.appendChild(usuarioTitle);

                        // Calcular novedades para el usuario
                        const userNovelties = getUserNovelties(selectedUser);

                        ['artists', 'albums', 'tracks'].forEach(type => {
                            const subsection = document.createElement('div');
                            subsection.className = 'novelty-subsection';

                            const subsectionTitle = document.createElement('h5');
                            subsectionTitle.textContent = type === 'artists' ? 'Artistas' :
                                                         type === 'albums' ? '√Ålbumes' : 'Canciones';
                            subsection.appendChild(subsectionTitle);

                            const items = userNovelties[type];
                            if (items && items.length > 0) {
                                items.forEach(item => {
                                    const itemDiv = createUserNoveltyItem(item, selectedUser);
                                    subsection.appendChild(itemDiv);
                                });
                            } else {
                                const emptyDiv = document.createElement('div');
                                emptyDiv.className = 'novelty-empty';
                                const typeText = type === 'artists' ? 'artistas' :
                                               type === 'albums' ? '√°lbumes' : 'canciones';
                                emptyDiv.textContent = items ?
                                    `No hay ${typeText} nuevos para ${selectedUser} con coincidencias en el per√≠odo` :
                                    'Calculando novedades del usuario...';
                                subsection.appendChild(emptyDiv);
                            }

                            usuarioSection.appendChild(subsection);
                        });

                        categoryDiv.appendChild(usuarioSection);
                    } else {
                        const usuarioSection = document.createElement('div');
                        usuarioSection.className = 'novelty-section';

                        const usuarioTitle = document.createElement('h4');
                        usuarioTitle.textContent = 'üë§ Nuevos para usuario espec√≠fico';
                        usuarioSection.appendChild(usuarioTitle);

                        const infoDiv = document.createElement('div');
                        infoDiv.className = 'novelty-empty';
                        infoDiv.textContent = 'Selecciona un usuario para ver sus novedades personales';
                        usuarioSection.appendChild(infoDiv);

                        categoryDiv.appendChild(usuarioSection);
                    }
                    container.appendChild(categoryDiv);
                    return;
                }

                if (!stats[categoryKey] || stats[categoryKey].length === 0) return;

                hasData = true;
                const categoryDiv = document.createElement('div');
                categoryDiv.className = 'category visible';
                categoryDiv.dataset.category = categoryKey;

                const title = document.createElement('h3');
                title.textContent = categoryTitles[categoryKey];
                categoryDiv.appendChild(title);

                stats[categoryKey].forEach(item => {
                    const itemDiv = document.createElement('div');
                    itemDiv.className = 'item';

                    if (selectedUser && item.users.includes(selectedUser)) {
                        itemDiv.classList.add('highlighted');
                    }

                    // Hacer clickeable si es g√©nero, a√±o o sello y hay usuario seleccionado
                    const isClickableForUser = ['genres', 'labels', 'years'].includes(categoryKey) &&
                                       selectedUser &&
                                       item.users.includes(selectedUser) &&
                                       item.user_artists &&
                                       item.user_artists[selectedUser];

                    // Hacer expandible si tiene informaci√≥n detallada
                    const isExpandable = ['genres', 'labels', 'years'].includes(categoryKey) &&
                                         ((item.top_artists && item.top_artists.length > 0) ||
                                          (item.top_albums && item.top_albums.length > 0));

                    const itemName = document.createElement('div');
                    itemName.className = 'item-name';
                    itemName.textContent = item.name;

                    if (isExpandable) {
                        itemDiv.classList.add('expandable');
                    }

                    itemDiv.appendChild(itemName);

                    const itemMeta = document.createElement('div');
                    itemMeta.className = 'item-meta';

                    const countBadge = document.createElement('span');
                    countBadge.className = 'badge';
                    countBadge.textContent = `${item.count} plays`;
                    itemMeta.appendChild(countBadge);

                    item.users.sort((a, b) => (item.user_counts[b] || 0) - (item.user_counts[a] || 0));

                    item.users.forEach(user => {
                        const userBadge = document.createElement('span');
                        userBadge.className = 'user-badge';
                        if (user === selectedUser) {
                            userBadge.classList.add('highlighted-user');
                        }

                        const userScrobbles = item.user_counts[user] || 0;
                        userBadge.textContent = `${user} (${userScrobbles})`;

                        if (isClickableForUser && user === selectedUser) {
                            userBadge.style.cursor = 'pointer';
                            userBadge.addEventListener('click', (e) => {
                                e.stopPropagation();
                                showArtistsPopup(item.name, categoryKey, user);
                            });
                        }

                        itemMeta.appendChild(userBadge);
                    });

                    itemDiv.appendChild(itemMeta);

                    // Detalles expandibles
                    if (isExpandable) {
                        const detailsDiv = document.createElement('div');
                        detailsDiv.className = 'details';

                        if (item.top_artists && item.top_artists.length > 0) {
                            const artistSection = document.createElement('div');
                            artistSection.className = 'detail-section';

                            const artistTitle = document.createElement('div');
                            artistTitle.className = 'detail-title';
                            artistTitle.textContent = 'Top Artistas:';
                            artistSection.appendChild(artistTitle);

                            const artistList = document.createElement('div');
                            artistList.className = 'detail-list';

                            item.top_artists.slice(0, 10).forEach(artist => {
                                const artistItem = document.createElement('span');
                                artistItem.className = 'detail-item';
                                artistItem.textContent = artist;
                                artistList.appendChild(artistItem);
                            });

                            artistSection.appendChild(artistList);
                            detailsDiv.appendChild(artistSection);
                        }

                        if (item.top_albums && item.top_albums.length > 0) {
                            const albumSection = document.createElement('div');
                            albumSection.className = 'detail-section';

                            const albumTitle = document.createElement('div');
                            albumTitle.className = 'detail-title';
                            albumTitle.textContent = 'Top √Ålbumes:';
                            albumSection.appendChild(albumTitle);

                            const albumList = document.createElement('div');
                            albumList.className = 'detail-list';

                            item.top_albums.slice(0, 10).forEach(album => {
                                const albumItem = document.createElement('span');
                                albumItem.className = 'detail-item';
                                albumItem.textContent = album;
                                albumList.appendChild(albumItem);
                            });

                            albumSection.appendChild(albumList);
                            detailsDiv.appendChild(albumSection);
                        }

                        itemDiv.appendChild(detailsDiv);

                        itemDiv.addEventListener('click', (e) => {
                            if (e.target.classList.contains('user-badge') && e.target.style.cursor === 'pointer') {
                                return;
                            }

                            itemDiv.classList.toggle('expanded');
                            detailsDiv.classList.toggle('expanded');
                        });
                    }

                    categoryDiv.appendChild(itemDiv);
                });

                container.appendChild(categoryDiv);
            });

            if (!hasData) {
                const noDataDiv = document.createElement('div');
                noDataDiv.className = 'no-data';
                noDataDiv.textContent = 'No hay datos para mostrar con los filtros seleccionados.';
                container.appendChild(noDataDiv);
            }
        }

        // Inicializaci√≥n
        document.addEventListener('DOMContentLoaded', function() {
            selectedUser = initializeUserSelector();
            renderStats();
        });
    </script>
</body>
</html>