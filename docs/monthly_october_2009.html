<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Last.fm Stats - October 2009</title>
    <link rel="icon" type="image/png" href="images/music.png">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #1e1e2e;
            color: #cdd6f4;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: #181825;
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        header {
            background: #1e1e2e;
            padding: 20px 30px;
            border-bottom: 2px solid #cba6f7;
            display: flex;
            justify-content: space-between;
            align-items: center;
            min-height: 80px;
        }

        .header-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            flex-grow: 1;
        }

        h1 {
            font-size: 1.8em;
            color: #cba6f7;
            margin: 0;
            text-align: center;
        }

        .nav-buttons {
            display: flex;
            gap: 15px;
            margin-top: 10px;
        }

        .nav-button {
            padding: 8px 16px;
            background: #313244;
            color: #cdd6f4;
            border: 2px solid #45475a;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9em;
            font-weight: 600;
            text-decoration: none;
            display: inline-block;
        }

        .nav-button:hover {
            border-color: #cba6f7;
            background: #45475a;
            color: #cdd6f4;
        }

        .nav-button.current {
            background: #cba6f7;
            color: #1e1e2e;
            border-color: #cba6f7;
        }

        .user-button {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #cba6f7;
            color: #1e1e2e;
            border: none;
            cursor: pointer;
            font-size: 1.2em;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            flex-shrink: 0;
        }

        .user-button:hover {
            background: #b4a3e8;
            transform: scale(1.1);
        }

        .user-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            backdrop-filter: blur(5px);
        }

        .user-modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #1e1e2e;
            border-radius: 12px;
            padding: 30px;
            width: 90%;
            max-width: 400px;
            border: 2px solid #cba6f7;
        }

        .user-modal-header {
            color: #cba6f7;
            font-size: 1.3em;
            font-weight: 600;
            margin-bottom: 20px;
            text-align: center;
        }

        .user-modal-close {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            color: #cdd6f4;
            font-size: 1.5em;
            cursor: pointer;
            padding: 0;
        }

        .user-modal-close:hover {
            color: #cba6f7;
        }

        .user-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .user-option {
            padding: 12px 20px;
            background: #313244;
            border: 2px solid #45475a;
            border-radius: 8px;
            color: #cdd6f4;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .user-option:hover {
            border-color: #cba6f7;
            background: #45475a;
        }

        .user-option.selected {
            background: #cba6f7;
            color: #1e1e2e;
            border-color: #cba6f7;
        }

        .controls {
            padding: 20px 30px;
            background: #1e1e2e;
            border-bottom: 1px solid #313244;
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            align-items: center;
            justify-content: center;
        }

        .control-group {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .control-group label {
            color: #cba6f7;
            font-weight: 600;
        }

        .category-filters {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .category-filter {
            padding: 8px 16px;
            background: #313244;
            color: #cdd6f4;
            border: 2px solid #45475a;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9em;
            font-weight: 600;
        }

        .category-filter:hover {
            border-color: #cba6f7;
            background: #45475a;
        }

        .category-filter.active {
            background: #cba6f7;
            color: #1e1e2e;
            border-color: #cba6f7;
        }

        .period-header {
            background: #1e1e2e;
            padding: 25px 30px;
            border-bottom: 2px solid #cba6f7;
        }

        .period-header h2 {
            color: #cba6f7;
            font-size: 1.5em;
            margin-bottom: 8px;
        }

        .period-info {
            color: #a6adc8;
            font-size: 0.9em;
        }

        .stats-container {
            padding: 30px;
        }

        .categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
            gap: 25px;
        }

        .category {
            background: #1e1e2e;
            border-radius: 12px;
            padding: 20px;
            border: 1px solid #313244;
            display: none;
        }

        .category.visible {
            display: block;
        }

        .category h3 {
            color: #cba6f7;
            font-size: 1.2em;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #cba6f7;
        }

        .item {
            padding: 12px;
            margin-bottom: 10px;
            background: #181825;
            border-radius: 8px;
            border-left: 3px solid #45475a;
            transition: all 0.3s;
            cursor: pointer;
        }

        .item:hover {
            transform: translateX(5px);
            border-left-color: #cba6f7;
        }

        .item.highlighted {
            border-left-color: #cba6f7;
            background: #1a1826;
        }

        .item-name {
            font-weight: 600;
            color: #cdd6f4;
            font-size: 1em;
        }

        .item-meta {
            margin-top: 8px;
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            align-items: center;
        }

        .badge {
            background: #45475a;
            color: #cdd6f4;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: 600;
        }

        .user-badge {
            background: #313244;
            color: #a6adc8;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.75em;
            border: 1px solid #45475a;
        }

        .user-badge.highlighted-user {
            background: #cba6f7;
            color: #1e1e2e;
            border-color: #cba6f7;
        }

        .expandable {
            position: relative;
        }

        .expandable::after {
            content: '‚ñº';
            position: absolute;
            right: 12px;
            top: 12px;
            color: #6c7086;
            font-size: 0.8em;
        }

        .expandable.expanded::after {
            content: '‚ñ≤';
        }

        .details {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
            padding: 0 15px;
            margin-top: 10px;
        }

        .details.expanded {
            max-height: 400px;
            overflow-y: auto;
            border-top: 1px solid #313244;
            padding-top: 15px;
        }

        .detail-section {
            margin-bottom: 15px;
        }

        .detail-title {
            color: #f9e2af;
            font-size: 0.9em;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .detail-list {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }

        .detail-item {
            background: #181825;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8em;
            color: #a6adc8;
        }

        .novelty-section {
            margin-bottom: 25px;
        }

        .novelty-section h4 {
            color: #a6e3a1;
            font-size: 1.05em;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 1px solid #45475a;
        }

        .novelty-subsection {
            margin-bottom: 20px;
        }

        .novelty-subsection h5 {
            color: #f9e2af;
            font-size: 0.95em;
            margin-bottom: 10px;
        }

        .novelty-empty {
            color: #6c7086;
            font-style: italic;
            text-align: center;
            padding: 20px;
        }

        .artists-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #1e1e2e;
            border: 2px solid #cba6f7;
            border-radius: 12px;
            padding: 20px;
            max-width: 500px;
            max-height: 400px;
            overflow-y: auto;
            z-index: 1000;
            box-shadow: 0 8px 32px rgba(0,0,0,0.5);
        }

        .popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 999;
        }

        .popup-header {
            color: #cba6f7;
            font-size: 1.1em;
            font-weight: 600;
            margin-bottom: 15px;
            border-bottom: 1px solid #313244;
            padding-bottom: 10px;
        }

        .popup-close {
            float: right;
            background: none;
            border: none;
            color: #cdd6f4;
            font-size: 1.2em;
            cursor: pointer;
            padding: 0;
            margin-top: -5px;
        }

        .popup-close:hover {
            color: #cba6f7;
        }

        .artist-list {
            list-style: none;
            padding: 0;
        }

        .artist-list li {
            padding: 8px 12px;
            background: #181825;
            margin-bottom: 5px;
            border-radius: 6px;
            border-left: 3px solid #45475a;
        }

        .no-data {
            text-align: center;
            padding: 40px;
            color: #6c7086;
            font-style: italic;
        }

        .last-update {
            text-align: center;
            padding: 20px;
            color: #6c7086;
            font-size: 0.85em;
            border-top: 1px solid #313244;
        }

        @media (max-width: 768px) {
            .categories {
                grid-template-columns: 1fr;
            }

            .controls {
                flex-direction: column;
                align-items: stretch;
            }

            .category-filters {
                justify-content: center;
            }

            .artists-popup {
                max-width: 90%;
                max-height: 80%;
            }

            header {
                flex-direction: column;
                gap: 15px;
            }

            .nav-buttons {
                order: -1;
            }

            .user-button {
                order: 1;
                align-self: flex-end;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <h1>üìä RYM Hispano Estad√≠sticas</h1>
                <div class="nav-buttons">
                    <a href="esta-semana.html" class="nav-button">TEMPORALES</a>
                    <a href="index.html#grupo" class="nav-button">GRUPO</a>
                    <a href="index.html#about" class="nav-button">ACERCA DE</a>
                </div>
            </div>
            <button class="user-button" id="userButton">üë§</button>
        </header>

        <!-- Modal de selecci√≥n de usuario -->
        <div class="user-modal" id="userModal">
            <div class="user-modal-content">
                <button class="user-modal-close" id="userModalClose">√ó</button>
                <div class="user-modal-header">Seleccionar Usuario</div>
                <div class="user-options" id="userOptions">
                    <!-- Se llenar√°n din√°micamente -->
                </div>
            </div>
        </div>

        <div class="controls">
            <div class="control-group">
                <label>Mostrar categor√≠as:</label>
                <div class="category-filters">
                    <button class="category-filter active" data-category="artists">Artistas</button><button class="category-filter " data-category="tracks">Canciones</button><button class="category-filter " data-category="albums">√Ålbumes</button><button class="category-filter " data-category="genres">G√©neros</button><button class="category-filter " data-category="labels">Sellos</button><button class="category-filter " data-category="years">A√±os</button><button class="category-filter " data-category="novelties">Novedades</button>
                </div>
            </div>
        </div>

        <div class="period-header">
            <h2>October 2009</h2>
            <p class="period-info">
                <span id="dateRange"></span> |
                <span id="totalScrobbles"></span> scrobbles totales
            </p>
        </div>

        <div class="stats-container">
            <div class="categories" id="categoriesContainer">
                <!-- Se llenar√° din√°micamente -->
            </div>
        </div>

        <div class="last-update">
            Generado: <span id="generatedAt"></span>
        </div>
    </div>

    <script>
        // Usuarios reales del entorno LASTFM_USERS
        const availableUsers = ["alberto_gu", "EliasJ72", "Frikomid", "GabredMared", "Lonsonxd", "Nubis84", "paqueradejere", "Rocky_stereo", "sdecandelario"];
        const stats = {
  "total_scrobbles": 2081,
  "artists": [
    {
      "name": "Helloween",
      "count": 56,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 1,
        "sdecandelario": 55
      }
    },
    {
      "name": "Dream Theater",
      "count": 55,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 20,
        "sdecandelario": 35
      }
    },
    {
      "name": "Black Sabbath",
      "count": 45,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 3,
        "sdecandelario": 42
      }
    },
    {
      "name": "Deep Purple",
      "count": 25,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 9,
        "sdecandelario": 16
      }
    }
  ],
  "tracks": [
    {
      "name": "Deep Purple - Child in Time",
      "count": 4,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 2,
        "sdecandelario": 2
      }
    },
    {
      "name": "Black Sabbath - Iron Man",
      "count": 3,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 1,
        "sdecandelario": 2
      }
    },
    {
      "name": "Helloween - Future World",
      "count": 2,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 1,
        "sdecandelario": 1
      }
    },
    {
      "name": "Deep Purple - Space Truckin'",
      "count": 2,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 1,
        "sdecandelario": 1
      }
    },
    {
      "name": "Deep Purple - Smoke on the Water",
      "count": 2,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 1,
        "sdecandelario": 1
      }
    },
    {
      "name": "Deep Purple - Highway Star",
      "count": 2,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 1,
        "sdecandelario": 1
      }
    }
  ],
  "albums": [],
  "genres": [
    {
      "name": "heavy metal",
      "count": 917,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 5,
        "sdecandelario": 912
      },
      "user_artists": {
        "Nubis84": [
          "Vagabond",
          "Helloween",
          "Ronnie James Dio & Yngwie Malmsteen",
          "Cobra",
          "Shadow Gallery"
        ],
        "sdecandelario": [
          "Skid Row",
          "Mot√∂rhead",
          "Slayer",
          "Ozzy Osbourne",
          "Warlock",
          "Stormwarrior",
          "Impellitteri",
          "HammerFall",
          "Tierra Santa",
          "Masterplan",
          "Helloween",
          "Stratovarius",
          "Riot",
          "Pretty Maids",
          "Manowar",
          "Metallica",
          "Warcry",
          "Iced Earth",
          "Leo",
          "Scorpions",
          "Testament",
          "W.A.S.P.",
          "Rainbow",
          "Judas Priest",
          "Queensr√øche",
          "Pantera",
          "Running Wild",
          "Rage",
          "Saratoga",
          "LUJURIA",
          "Sphinx",
          "Ob√∫s",
          "M√∂tley Cr√ºe",
          "Kreator"
        ]
      },
      "top_artists": [
        "Scorpions",
        "LUJURIA",
        "Rage",
        "Helloween",
        "Running Wild",
        "Saratoga",
        "Mot√∂rhead",
        "Slayer",
        "Kreator",
        "Warcry"
      ],
      "top_albums": [
        "Stormwarrior - Heading Northe",
        "Scorpions - Tokyo Tapes",
        "Scorpions - Live Bites",
        "Scorpions - Unbreakable",
        "Rage - Perfect Man",
        "Rage - Execution Guaranteed",
        "Scorpions - Face the Heat",
        "Mot√∂rhead - Mot√∂rhead",
        "Rage - Trapped!",
        "Scorpions - In Trance"
      ]
    },
    {
      "name": "metal",
      "count": 725,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 9,
        "sdecandelario": 716
      },
      "user_artists": {
        "Nubis84": [
          "Tool",
          "Paradise Lost",
          "In Flames",
          "Helloween",
          "Ronnie James Dio & Yngwie Malmsteen",
          "Redemption",
          "Shadow Gallery"
        ],
        "sdecandelario": [
          "Sodom",
          "Korpiklaani",
          "Mot√∂rhead",
          "Slayer",
          "Ozzy Osbourne",
          "Warlock",
          "Impellitteri",
          "HammerFall",
          "Sonata Arctica",
          "Tierra Santa",
          "Masterplan",
          "Helloween",
          "Stratovarius",
          "Riot",
          "Manowar",
          "Metallica",
          "Rammstein",
          "Warcry",
          "Iced Earth",
          "Leo",
          "Testament",
          "W.A.S.P.",
          "Rainbow",
          "Judas Priest",
          "Queensr√øche",
          "Pantera",
          "Tankard",
          "Running Wild",
          "Rage",
          "Saratoga",
          "LUJURIA",
          "Sphinx",
          "Kreator"
        ]
      },
      "top_artists": [
        "LUJURIA",
        "Rage",
        "Helloween",
        "Running Wild",
        "Sonata Arctica",
        "Saratoga",
        "Mot√∂rhead",
        "Slayer",
        "Kreator",
        "Warcry"
      ],
      "top_albums": [
        "Sonata Arctica - The Days of Grays",
        "Rammstein - Liebe ist f√ºr alle da",
        "Rage - Perfect Man",
        "Rage - Execution Guaranteed",
        "Mot√∂rhead - Mot√∂rhead",
        "Rage - Trapped!",
        "Rage - The Missing Link",
        "LUJURIA - ... Y La Yesca Arder√°",
        "LUJURIA - Rep√∫blica Popular del coito",
        "LUJURIA - Cuentos Para Mayores"
      ]
    },
    {
      "name": "rock",
      "count": 625,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 154,
        "sdecandelario": 471
      },
      "user_artists": {
        "Nubis84": [
          "U2",
          "Tool",
          "Muse",
          "The Moody Blues",
          "Thrice",
          "Yes",
          "Triana",
          "Pink Floyd",
          "The Flaming Lips",
          "Riverside",
          "Vargas Blues Band",
          "Neal Morse",
          "The Cure",
          "Yo La Tengo",
          "La Uni√≥n",
          "Manic Street Preachers",
          "Marillion",
          "The Beatles",
          "The Cranberries"
        ],
        "sdecandelario": [
          "Skid Row",
          "Mot√∂rhead",
          "Ozzy Osbourne",
          "Jethro Tull",
          "The Doors",
          "Kiss",
          "Whitesnake",
          "Metallica",
          "Tesla",
          "Rose Tattoo",
          "Rammstein",
          "The Cult",
          "Scorpions",
          "Los Suaves",
          "Led Zeppelin",
          "Rainbow",
          "Nirvana",
          "Journey",
          "M√∂tley Cr√ºe"
        ]
      },
      "top_artists": [
        "Scorpions",
        "Mot√∂rhead",
        "Kiss",
        "Vargas Blues Band",
        "The Beatles",
        "Rammstein",
        "Rose Tattoo",
        "Yo La Tengo",
        "Metallica",
        "Neal Morse"
      ],
      "top_albums": [
        "Kiss - Sonic Boom",
        "Vargas Blues Band - Blues Latino",
        "Rammstein - Liebe ist f√ºr alle da",
        "Neal Morse - Testimony",
        "The Beatles - Abbey Road",
        "Scorpions - Tokyo Tapes",
        "Scorpions - Live Bites",
        "Yo La Tengo - I Can Hear the Heart Beating as One",
        "Scorpions - Unbreakable",
        "Scorpions - Face the Heat"
      ]
    },
    {
      "name": "hard rock",
      "count": 494,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 3,
        "sdecandelario": 491
      },
      "user_artists": {
        "Nubis84": [
          "Ronnie James Dio & Yngwie Malmsteen",
          "Cobra",
          "Vagabond"
        ],
        "sdecandelario": [
          "Skid Row",
          "Mot√∂rhead",
          "Ozzy Osbourne",
          "Warlock",
          "Riot",
          "Kiss",
          "Pretty Maids",
          "Whitesnake",
          "Metallica",
          "Tesla",
          "Rose Tattoo",
          "The Cult",
          "Scorpions",
          "Leo",
          "Los Suaves",
          "Led Zeppelin",
          "W.A.S.P.",
          "Rainbow",
          "Judas Priest",
          "Queensr√øche",
          "Journey",
          "Ob√∫s",
          "M√∂tley Cr√ºe"
        ]
      },
      "top_artists": [
        "Scorpions",
        "Mot√∂rhead",
        "Kiss",
        "Rose Tattoo",
        "Metallica",
        "Ob√∫s",
        "Warlock",
        "W.A.S.P.",
        "Led Zeppelin",
        "Whitesnake"
      ],
      "top_albums": [
        "Kiss - Sonic Boom",
        "Scorpions - Tokyo Tapes",
        "Scorpions - Live Bites",
        "Scorpions - Unbreakable",
        "Scorpions - Face the Heat",
        "Mot√∂rhead - Mot√∂rhead",
        "Scorpions - In Trance",
        "Mot√∂rhead - Motorizer",
        "Mot√∂rhead - No Sleep 'Til Hammersmith",
        "Scorpions - Virgin Killer"
      ]
    },
    {
      "name": "Power metal",
      "count": 445,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 3,
        "sdecandelario": 442
      },
      "user_artists": {
        "Nubis84": [
          "Redemption",
          "Helloween"
        ],
        "sdecandelario": [
          "Saurom",
          "Stormwarrior",
          "Impellitteri",
          "HammerFall",
          "Sonata Arctica",
          "Tierra Santa",
          "Masterplan",
          "Helloween",
          "Stratovarius",
          "Riot",
          "Pretty Maids",
          "Manowar",
          "Warcry",
          "Iced Earth",
          "Pantera",
          "Running Wild",
          "Rage",
          "Saratoga",
          "Sphinx"
        ]
      },
      "top_artists": [
        "Rage",
        "Helloween",
        "Running Wild",
        "Sonata Arctica",
        "Saratoga",
        "Warcry",
        "Tierra Santa",
        "Iced Earth",
        "Stormwarrior",
        "Saurom"
      ],
      "top_albums": [
        "Sonata Arctica - The Days of Grays",
        "Stormwarrior - Heading Northe",
        "Rage - Perfect Man",
        "Rage - Execution Guaranteed",
        "Rage - Trapped!",
        "Rage - The Missing Link",
        "Rage - Secrets In A Weird World",
        "Running Wild - Pile of Skulls",
        "Running Wild - Death or Glory",
        "Running Wild - Blazon Stone"
      ]
    },
    {
      "name": "classic rock",
      "count": 375,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 45,
        "sdecandelario": 330
      },
      "user_artists": {
        "Nubis84": [
          "U2",
          "Marillion",
          "The Beatles",
          "The Moody Blues",
          "Ronnie James Dio & Yngwie Malmsteen",
          "Yes",
          "Pink Floyd"
        ],
        "sdecandelario": [
          "Whitesnake",
          "Tesla",
          "Jethro Tull",
          "The Doors",
          "Journey",
          "The Cult",
          "Scorpions",
          "Ozzy Osbourne",
          "Led Zeppelin",
          "Rainbow",
          "Judas Priest",
          "Kiss"
        ]
      },
      "top_artists": [
        "Scorpions",
        "Kiss",
        "The Beatles",
        "Led Zeppelin",
        "Pink Floyd",
        "The Doors",
        "Whitesnake",
        "Rainbow",
        "Tesla",
        "The Cult"
      ],
      "top_albums": [
        "Kiss - Sonic Boom",
        "The Beatles - Abbey Road",
        "Scorpions - Tokyo Tapes",
        "Scorpions - Live Bites",
        "Scorpions - Unbreakable",
        "Scorpions - Face the Heat",
        "Pink Floyd - Dark Side of the Moon",
        "The Doors - Live At The Matrix",
        "Scorpions - In Trance",
        "Scorpions - Virgin Killer"
      ]
    },
    {
      "name": "80s",
      "count": 317,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 6,
        "sdecandelario": 311
      },
      "user_artists": {
        "Nubis84": [
          "La Uni√≥n",
          "The Cure"
        ],
        "sdecandelario": [
          "Whitesnake",
          "Skid Row",
          "Tesla",
          "Journey",
          "The Cult",
          "Scorpions",
          "W.A.S.P.",
          "M√∂tley Cr√ºe",
          "Kiss"
        ]
      },
      "top_artists": [
        "Scorpions",
        "Kiss",
        "W.A.S.P.",
        "Whitesnake",
        "M√∂tley Cr√ºe",
        "Tesla",
        "The Cult",
        "The Cure",
        "Journey",
        "Skid Row"
      ],
      "top_albums": [
        "Kiss - Sonic Boom",
        "Scorpions - Tokyo Tapes",
        "Scorpions - Live Bites",
        "Scorpions - Unbreakable",
        "Scorpions - Face the Heat",
        "Scorpions - In Trance",
        "Scorpions - Virgin Killer",
        "Scorpions - Savage Amusement",
        "Scorpions - Pure Instinct",
        "Scorpions - Love at First Sting"
      ]
    },
    {
      "name": "speed metal",
      "count": 280,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 2,
        "sdecandelario": 278
      },
      "user_artists": {
        "Nubis84": [
          "Cobra",
          "Helloween"
        ],
        "sdecandelario": [
          "Stormwarrior",
          "Mot√∂rhead",
          "Running Wild",
          "Slayer",
          "Rage",
          "Impellitteri",
          "Helloween",
          "Riot"
        ]
      },
      "top_artists": [
        "Rage",
        "Helloween",
        "Running Wild",
        "Mot√∂rhead",
        "Slayer",
        "Stormwarrior",
        "Riot",
        "Cobra",
        "Impellitteri"
      ],
      "top_albums": [
        "Stormwarrior - Heading Northe",
        "Rage - Perfect Man",
        "Rage - Execution Guaranteed",
        "Mot√∂rhead - Mot√∂rhead",
        "Rage - Trapped!",
        "Rage - The Missing Link",
        "Mot√∂rhead - Motorizer",
        "Mot√∂rhead - No Sleep 'Til Hammersmith",
        "Rage - Secrets In A Weird World",
        "Running Wild - Pile of Skulls"
      ]
    },
    {
      "name": "spanish",
      "count": 232,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 21,
        "sdecandelario": 211
      },
      "user_artists": {
        "Nubis84": [
          "La Uni√≥n",
          "Sajra Tambaj",
          "Triana",
          "Manta Ray"
        ],
        "sdecandelario": [
          "Saratoga",
          "LUJURIA",
          "Los Suaves",
          "Tierra Santa",
          "Ob√∫s",
          "Saurom"
        ]
      },
      "top_artists": [
        "LUJURIA",
        "Saratoga",
        "Tierra Santa",
        "Ob√∫s",
        "Saurom",
        "Sajra Tambaj",
        "Los Suaves",
        "Manta Ray",
        "Triana",
        "La Uni√≥n"
      ],
      "top_albums": [
        "Sajra Tambaj - PD: Buen viaje",
        "LUJURIA - ... Y La Yesca Arder√°",
        "LUJURIA - Rep√∫blica Popular del coito",
        "LUJURIA - Cuentos Para Mayores",
        "LUJURIA - Sin Parar De Pecar",
        "LUJURIA - Licantrofilia",
        "LUJURIA - Enemigos de la Castidad",
        "LUJURIA - El Poder Del Deseo",
        "Saratoga - Mi Ciudad",
        "LUJURIA - Las Maquetas"
      ]
    },
    {
      "name": "german",
      "count": 223,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 1,
        "sdecandelario": 222
      },
      "user_artists": {
        "Nubis84": [
          "Helloween"
        ],
        "sdecandelario": [
          "Sodom",
          "Tankard",
          "Stormwarrior",
          "Rammstein",
          "Rage",
          "Warlock",
          "Masterplan",
          "Helloween",
          "Kreator"
        ]
      },
      "top_artists": [
        "Rage",
        "Helloween",
        "Kreator",
        "Rammstein",
        "Stormwarrior",
        "Warlock",
        "Tankard",
        "Masterplan",
        "Sodom"
      ],
      "top_albums": [
        "Stormwarrior - Heading Northe",
        "Rammstein - Liebe ist f√ºr alle da",
        "Rage - Perfect Man",
        "Rage - Execution Guaranteed",
        "Rage - Trapped!",
        "Rage - The Missing Link",
        "Rage - Secrets In A Weird World",
        "Helloween - Master of the Rings",
        "Helloween - Keeper of the Seven Keys: The Legacy",
        "Helloween - The Time of the Oath"
      ]
    },
    {
      "name": "Progressive rock",
      "count": 83,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 58,
        "sdecandelario": 25
      },
      "user_artists": {
        "Nubis84": [
          "Triana",
          "Tool",
          "Marillion",
          "Vagabond",
          "Pink Floyd",
          "Riverside",
          "Muse",
          "The Moody Blues",
          "No-Man",
          "Yes",
          "Neal Morse",
          "Redemption",
          "Shadow Gallery"
        ],
        "sdecandelario": [
          "Led Zeppelin",
          "Jethro Tull",
          "Queensr√øche",
          "Journey"
        ]
      },
      "top_artists": [
        "Neal Morse",
        "Led Zeppelin",
        "Pink Floyd",
        "No-Man",
        "Jethro Tull",
        "Triana",
        "Queensr√øche",
        "Riverside",
        "Tool",
        "Marillion"
      ],
      "top_albums": [
        "Neal Morse - Testimony",
        "Pink Floyd - Dark Side of the Moon",
        "No-Man - Schoolyard Ghosts",
        "Jethro Tull - Aqualung",
        "Triana - El Patio",
        "Riverside - Second Life Syndrome",
        "Led Zeppelin - Led Zeppelin I",
        "Led Zeppelin - Led Zeppelin III",
        "Led Zeppelin - Physical Graffiti",
        "Led Zeppelin - In Through the Out Door"
      ]
    },
    {
      "name": "blues rock",
      "count": 56,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 33,
        "sdecandelario": 23
      },
      "user_artists": {
        "Nubis84": [
          "Vargas Blues Band"
        ],
        "sdecandelario": [
          "Rose Tattoo"
        ]
      },
      "top_artists": [
        "Vargas Blues Band",
        "Rose Tattoo"
      ],
      "top_albums": [
        "Vargas Blues Band - Blues Latino",
        "Vargas Blues Band - The Best",
        "Rose Tattoo - Assault & Battery",
        "Rose Tattoo - Rose Tattoo",
        "Rose Tattoo - PAIN",
        "Vargas Blues Band - Love, Union, Peace",
        "Vargas Blues Band - Chill Latin Blues",
        "Rose Tattoo - Beats from a Single Drum",
        "Rose Tattoo - Southern Stars",
        "Rose Tattoo - Scarred for Life"
      ]
    },
    {
      "name": "alternative",
      "count": 55,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 51,
        "sdecandelario": 4
      },
      "user_artists": {
        "Nubis84": [
          "U2",
          "The Flaming Lips",
          "Tool",
          "The Cure",
          "Yo La Tengo",
          "Sigur R√≥s",
          "Muse",
          "The Cranberries",
          "Manic Street Preachers"
        ],
        "sdecandelario": [
          "Nirvana"
        ]
      },
      "top_artists": [
        "Yo La Tengo",
        "The Flaming Lips",
        "Sigur R√≥s",
        "The Cure",
        "Nirvana",
        "Tool",
        "The Cranberries",
        "U2",
        "Manic Street Preachers",
        "Muse"
      ],
      "top_albums": [
        "Yo La Tengo - I Can Hear the Heart Beating as One",
        "Yo La Tengo - Painful",
        "Sigur R√≥s - √Åg√¶tis byrjun",
        "The Flaming Lips - Yoshimi Battles the Pink Robots",
        "Nirvana - Nevermind",
        "The Cure - Disintegration",
        "Tool - Top 600 Modern Rock Songs",
        "The Cranberries - Animal Instinct",
        "The Flaming Lips - At War With the Mystics",
        "The Cure - Galore (The Singles 1987-1997)"
      ]
    },
    {
      "name": "Progressive metal",
      "count": 55,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 27,
        "sdecandelario": 28
      },
      "user_artists": {
        "Nubis84": [
          "Tool",
          "Riverside",
          "Neal Morse",
          "Redemption",
          "Shadow Gallery"
        ],
        "sdecandelario": [
          "Iced Earth",
          "Queensr√øche"
        ]
      },
      "top_artists": [
        "Iced Earth",
        "Neal Morse",
        "Queensr√øche",
        "Riverside",
        "Tool",
        "Redemption",
        "Shadow Gallery"
      ],
      "top_albums": [
        "Neal Morse - Testimony",
        "Iced Earth - Something Wicked This Way Comes",
        "Iced Earth - Night of the Stormrider",
        "Iced Earth - Framing Armageddon",
        "Iced Earth - Horror Show",
        "Riverside - Second Life Syndrome",
        "Tool - Top 600 Modern Rock Songs",
        "Redemption - The Fullness of Time",
        "Queensr√øche - Queen of the Reich",
        "Queensr√øche - Empire"
      ]
    },
    {
      "name": "60s",
      "count": 39,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 26,
        "sdecandelario": 13
      },
      "user_artists": {
        "Nubis84": [
          "The Beatles",
          "The Moody Blues"
        ],
        "sdecandelario": [
          "The Doors"
        ]
      },
      "top_artists": [
        "The Beatles",
        "The Doors",
        "The Moody Blues"
      ],
      "top_albums": [
        "The Beatles - Abbey Road",
        "The Doors - Live At The Matrix",
        "The Beatles - Love",
        "The Beatles - The Other Way Of Crossing Abbe",
        "The Beatles - Help! (24-Bit Remaster)",
        "The Beatles - Let It Be",
        "The Moody Blues - Days of Future Passed"
      ]
    },
    {
      "name": "Progressive",
      "count": 34,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 29,
        "sdecandelario": 5
      },
      "user_artists": {
        "Nubis84": [
          "Marillion",
          "Riverside",
          "Yes",
          "Neal Morse",
          "Redemption",
          "Shadow Gallery"
        ],
        "sdecandelario": [
          "Jethro Tull"
        ]
      },
      "top_artists": [
        "Neal Morse",
        "Jethro Tull",
        "Riverside",
        "Marillion",
        "Yes",
        "Redemption",
        "Shadow Gallery"
      ],
      "top_albums": [
        "Neal Morse - Testimony",
        "Jethro Tull - Aqualung",
        "Riverside - Second Life Syndrome",
        "Redemption - The Fullness of Time",
        "Marillion - Clutching at Straws",
        "Shadow Gallery - Room V",
        "Yes - Close To The Edge [Expanded]",
        "Yes - Ultimate Yes: 35th Anniversary Collection",
        "Marillion - Brave"
      ]
    },
    {
      "name": "psychedelic",
      "count": 27,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 14,
        "sdecandelario": 13
      },
      "user_artists": {
        "Nubis84": [
          "Pink Floyd",
          "The Moody Blues"
        ],
        "sdecandelario": [
          "The Doors"
        ]
      },
      "top_artists": [
        "Pink Floyd",
        "The Doors",
        "The Moody Blues"
      ],
      "top_albums": [
        "Pink Floyd - Dark Side of the Moon",
        "The Doors - Live At The Matrix",
        "The Moody Blues - Days of Future Passed"
      ]
    },
    {
      "name": "Psychedelic Rock",
      "count": 26,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 13,
        "sdecandelario": 13
      },
      "user_artists": {
        "Nubis84": [
          "Pink Floyd"
        ],
        "sdecandelario": [
          "The Doors"
        ]
      },
      "top_artists": [
        "Pink Floyd",
        "The Doors"
      ],
      "top_albums": [
        "Pink Floyd - Dark Side of the Moon",
        "The Doors - Live At The Matrix"
      ]
    },
    {
      "name": "alternative rock",
      "count": 25,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 21,
        "sdecandelario": 4
      },
      "user_artists": {
        "Nubis84": [
          "The Flaming Lips",
          "Muse",
          "The Cranberries",
          "Thrice",
          "Manic Street Preachers"
        ],
        "sdecandelario": [
          "Nirvana"
        ]
      },
      "top_artists": [
        "The Flaming Lips",
        "Thrice",
        "Nirvana",
        "The Cranberries",
        "Manic Street Preachers",
        "Muse"
      ],
      "top_albums": [
        "Thrice - The Alchemy Index: Vols 3 & 4 Air & Earth",
        "The Flaming Lips - Yoshimi Battles the Pink Robots",
        "Nirvana - Nevermind",
        "The Cranberries - Animal Instinct",
        "The Flaming Lips - At War With the Mystics",
        "Manic Street Preachers - Forever Delayed",
        "Muse - Absolution",
        "Thrice - The Artist In The Ambulance",
        "The Flaming Lips - Smallville: The Talon Mix",
        "The Flaming Lips - The Spongebob Squarepants Movie (Music From The Movie And More...)"
      ]
    }
  ],
  "labels": [
    {
      "name": "Epic",
      "count": 14,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 1,
        "sdecandelario": 13
      },
      "user_artists": {
        "Nubis84": [
          "Manic Street Preachers"
        ],
        "sdecandelario": [
          "Ozzy Osbourne",
          "Kreator"
        ]
      },
      "top_artists": [
        "Kreator",
        "Ozzy Osbourne",
        "Manic Street Preachers"
      ],
      "top_albums": [
        "Kreator - Extreme Aggression",
        "Kreator - Coma of Souls",
        "Ozzy Osbourne - Blizzard of Ozz",
        "Ozzy Osbourne - Bark at the Moon",
        "Manic Street Preachers - Forever Delayed"
      ]
    },
    {
      "name": "EMI",
      "count": 10,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 2,
        "sdecandelario": 8
      },
      "user_artists": {
        "Nubis84": [
          "Marillion",
          "Deep Purple"
        ],
        "sdecandelario": [
          "Black Sabbath",
          "Helloween"
        ]
      },
      "top_artists": [
        "Black Sabbath",
        "Helloween",
        "Marillion",
        "Deep Purple"
      ],
      "top_albums": [
        "Black Sabbath - Dehumanizer",
        "Helloween - Chameleon",
        "Marillion - Clutching at Straws",
        "Deep Purple - Deepest Purple: The Very Best of Deep Purple"
      ]
    },
    {
      "name": "Vertigo",
      "count": 10,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 1,
        "sdecandelario": 9
      },
      "user_artists": {
        "Nubis84": [
          "Dio"
        ],
        "sdecandelario": [
          "Warlock",
          "Metallica"
        ]
      },
      "top_artists": [
        "Warlock",
        "Metallica",
        "Dio"
      ],
      "top_albums": [
        "Warlock - Burning The Witches",
        "Metallica - Death Magnetic",
        "Dio - Dio / Rock Legends"
      ]
    },
    {
      "name": "Island",
      "count": 5,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 2,
        "sdecandelario": 3
      },
      "user_artists": {
        "Nubis84": [
          "The Cranberries"
        ],
        "sdecandelario": [
          "Anthrax"
        ]
      },
      "top_artists": [
        "Anthrax",
        "The Cranberries"
      ],
      "top_albums": [
        "Anthrax - Among the Living",
        "The Cranberries - Animal Instinct"
      ]
    }
  ],
  "years": [
    {
      "name": "2009",
      "count": 42,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 1,
        "sdecandelario": 41
      },
      "user_artists": {
        "Nubis84": [
          "Sigur R√≥s"
        ],
        "sdecandelario": [
          "LUJURIA",
          "Exodus",
          "Grave Digger",
          "Alestorm"
        ]
      },
      "top_artists": [
        "Alestorm",
        "LUJURIA",
        "Exodus",
        "Grave Digger",
        "Sigur R√≥s"
      ],
      "top_albums": [
        "Alestorm - Black Sails at Midnight",
        "LUJURIA - Cuentos Para Mayores",
        "Exodus - Bonded by Blood",
        "Grave Digger - Ballads Of A Hangman",
        "Sigur R√≥s - ( )"
      ]
    },
    {
      "name": "1994",
      "count": 40,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 21,
        "sdecandelario": 19
      },
      "user_artists": {
        "Nubis84": [
          "Vargas Blues Band"
        ],
        "sdecandelario": [
          "Running Wild",
          "Slayer",
          "Dream Theater"
        ]
      },
      "top_artists": [
        "Vargas Blues Band",
        "Running Wild",
        "Slayer",
        "Dream Theater"
      ],
      "top_albums": [
        "Vargas Blues Band - Blues Latino",
        "Running Wild - Black Hand Inn",
        "Slayer - Divine Intervention",
        "Dream Theater - Awake"
      ]
    },
    {
      "name": "2008",
      "count": 39,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 24,
        "sdecandelario": 15
      },
      "user_artists": {
        "Nubis84": [
          "Sweet Little Band",
          "The Chemical Brothers",
          "Ayreon",
          "In Flames",
          "Vargas Blues Band",
          "Dream Theater"
        ],
        "sdecandelario": [
          "Rose Tattoo",
          "Metallica",
          "Children of Bodom",
          "Testament"
        ]
      },
      "top_artists": [
        "Ayreon",
        "Testament",
        "Children of Bodom",
        "Metallica",
        "Dream Theater",
        "In Flames",
        "Sweet Little Band",
        "Vargas Blues Band",
        "The Chemical Brothers",
        "Rose Tattoo"
      ],
      "top_albums": [
        "Ayreon - 01011001",
        "Testament - Formation Of Damnation",
        "Children of Bodom - Blooddrunk",
        "Metallica - Death Magnetic",
        "Dream Theater - Chaos In Motion 2007/2008",
        "In Flames - Colony",
        "Dream Theater - Greatest Hit [...and 21 other pretty cool songs]",
        "Sweet Little Band - Babies Go The Cure",
        "Vargas Blues Band - Flamenco Blues Experience",
        "The Chemical Brothers - Brotherhood"
      ]
    },
    {
      "name": "2004",
      "count": 28,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 2,
        "sdecandelario": 26
      },
      "user_artists": {
        "Nubis84": [
          "Ayreon"
        ],
        "sdecandelario": [
          "Rose Tattoo",
          "Warcry",
          "Saratoga",
          "Tierra Santa",
          "Flotsam and Jetsam",
          "Guns N' Roses"
        ]
      },
      "top_artists": [
        "Rose Tattoo",
        "Flotsam and Jetsam",
        "Saratoga",
        "Guns N' Roses",
        "Tierra Santa",
        "Ayreon",
        "Warcry"
      ],
      "top_albums": [
        "Rose Tattoo - Assault & Battery",
        "Flotsam and Jetsam - Doomsday for the Deceiver",
        "Saratoga - El Clan de la Lucha",
        "Guns N' Roses - Appetite for Destruction",
        "Tierra Santa - Apocalipsis",
        "Ayreon - Day Eleven: Love",
        "Warcry - Alea Jacta Est"
      ]
    },
    {
      "name": "2010",
      "count": 22,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 4,
        "sdecandelario": 18
      },
      "user_artists": {
        "Nubis84": [
          "The Cure",
          "Deep Purple"
        ],
        "sdecandelario": [
          "Scorpions",
          "Pantera"
        ]
      },
      "top_artists": [
        "Scorpions",
        "Pantera",
        "The Cure",
        "Deep Purple"
      ],
      "top_albums": [
        "Scorpions - Face the Heat",
        "Pantera - Cowboys From Hell",
        "The Cure - Disintegration",
        "Deep Purple - Deepest Purple: The Very Best of Deep Purple"
      ]
    },
    {
      "name": "2006",
      "count": 21,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 4,
        "sdecandelario": 17
      },
      "user_artists": {
        "Nubis84": [
          "Vargas Blues Band",
          "The Flaming Lips"
        ],
        "sdecandelario": [
          "Journey",
          "Slayer",
          "LUJURIA"
        ]
      },
      "top_artists": [
        "LUJURIA",
        "Slayer",
        "Vargas Blues Band",
        "The Flaming Lips",
        "Journey"
      ],
      "top_albums": [
        "LUJURIA - ... Y La Yesca Arder√°",
        "Slayer - Christ Illusion",
        "Vargas Blues Band - Chill Latin Blues",
        "The Flaming Lips - At War With the Mystics",
        "Journey - Escape"
      ]
    },
    {
      "name": "2003",
      "count": 20,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 2,
        "sdecandelario": 18
      },
      "user_artists": {
        "Nubis84": [
          "Muse",
          "Manic Street Preachers"
        ],
        "sdecandelario": [
          "LUJURIA",
          "HammerFall",
          "Billy Joel",
          "Led Zeppelin",
          "Queensr√øche"
        ]
      },
      "top_artists": [
        "LUJURIA",
        "HammerFall",
        "Queensr√øche",
        "Manic Street Preachers",
        "Muse",
        "Led Zeppelin",
        "Billy Joel"
      ],
      "top_albums": [
        "LUJURIA - El Poder Del Deseo",
        "HammerFall - Crimson Thunder",
        "Queensr√øche - Empire",
        "Manic Street Preachers - Forever Delayed",
        "Muse - Absolution",
        "Led Zeppelin - Coda",
        "Billy Joel - Billy Joel - The Ultimate Collection"
      ]
    },
    {
      "name": "2000",
      "count": 20,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 5,
        "sdecandelario": 15
      },
      "user_artists": {
        "Nubis84": [
          "Ketil Bj√∏rnstad"
        ],
        "sdecandelario": [
          "Ob√∫s",
          "Gamma Ray",
          "Demons & Wizards",
          "Axxis"
        ]
      },
      "top_artists": [
        "Ketil Bj√∏rnstad",
        "Demons & Wizards",
        "Gamma Ray",
        "Ob√∫s",
        "Axxis"
      ],
      "top_albums": [
        "Ketil Bj√∏rnstad - Epigraphs",
        "Demons & Wizards - Demons & Wizards",
        "Ob√∫s - Desde El Fondo Del Abismo",
        "Gamma Ray - Blast From The Past - Disc 1",
        "Axxis - Back to the Kingdom",
        "Gamma Ray - Blast From The Past - Disc 2"
      ]
    },
    {
      "name": "2001",
      "count": 20,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 2,
        "sdecandelario": 18
      },
      "user_artists": {
        "Nubis84": [
          "Ketil Bj√∏rnstad"
        ],
        "sdecandelario": [
          "Freedom Call",
          "Axxis",
          "LUJURIA"
        ]
      },
      "top_artists": [
        "LUJURIA",
        "Axxis",
        "Freedom Call",
        "Ketil Bj√∏rnstad"
      ],
      "top_albums": [
        "LUJURIA - Enemigos de la Castidad",
        "Axxis - Eyes of Darkness",
        "Freedom Call - Crystal Empire",
        "Ketil Bj√∏rnstad - Before The Light"
      ]
    },
    {
      "name": "1998",
      "count": 18,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 4,
        "sdecandelario": 14
      },
      "user_artists": {
        "Nubis84": [
          "...And You Will Know Us by the Trail of Dead"
        ],
        "sdecandelario": [
          "Ob√∫s",
          "Helloween",
          "Stratovarius"
        ]
      },
      "top_artists": [
        "Stratovarius",
        "Helloween",
        "...And You Will Know Us by the Trail of Dead",
        "Ob√∫s"
      ],
      "top_albums": [
        "Stratovarius - Destiny",
        "Helloween - Better Than Raw",
        "...And You Will Know Us by the Trail of Dead - ...And You Will Know Us by the Trail of Dead",
        "Ob√∫s - El Que M√°s"
      ]
    },
    {
      "name": "2016",
      "count": 18,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 13,
        "sdecandelario": 5
      },
      "user_artists": {
        "Nubis84": [
          "Pink Floyd"
        ],
        "sdecandelario": [
          "Jethro Tull"
        ]
      },
      "top_artists": [
        "Pink Floyd",
        "Jethro Tull"
      ],
      "top_albums": [
        "Pink Floyd - Dark Side of the Moon",
        "Jethro Tull - Aqualung"
      ]
    },
    {
      "name": "1999",
      "count": 16,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 3,
        "sdecandelario": 13
      },
      "user_artists": {
        "Nubis84": [
          "Aghora",
          "The Cranberries"
        ],
        "sdecandelario": [
          "Sonata Arctica",
          "Scorpions",
          "Kreator"
        ]
      },
      "top_artists": [
        "Scorpions",
        "Kreator",
        "The Cranberries",
        "Sonata Arctica",
        "Aghora"
      ],
      "top_albums": [
        "Scorpions - Eye II Eye",
        "Kreator - Endorama",
        "The Cranberries - Animal Instinct",
        "Sonata Arctica - Ecliptica",
        "Aghora - Aghora"
      ]
    },
    {
      "name": "1990",
      "count": 16,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 2,
        "sdecandelario": 14
      },
      "user_artists": {
        "Nubis84": [
          "Public Enemy"
        ],
        "sdecandelario": [
          "Scorpions",
          "Kreator"
        ]
      },
      "top_artists": [
        "Scorpions",
        "Kreator",
        "Public Enemy"
      ],
      "top_albums": [
        "Scorpions - Crazy World",
        "Kreator - Coma of Souls",
        "Public Enemy - Fear of a Black Planet"
      ]
    },
    {
      "name": "1997",
      "count": 14,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 1,
        "sdecandelario": 13
      },
      "user_artists": {
        "Nubis84": [
          "The Moody Blues"
        ],
        "sdecandelario": [
          "Warcry",
          "Kiss",
          "Dream Theater"
        ]
      },
      "top_artists": [
        "Dream Theater",
        "Kiss",
        "Warcry",
        "The Moody Blues"
      ],
      "top_albums": [
        "Dream Theater - Falling Into Infinity",
        "Kiss - Destroyer",
        "Warcry - Demon97",
        "The Moody Blues - Days of Future Passed"
      ]
    },
    {
      "name": "1995",
      "count": 13,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 2,
        "sdecandelario": 11
      },
      "user_artists": {
        "Nubis84": [
          "Marillion",
          "Vagabond"
        ],
        "sdecandelario": [
          "Kiss",
          "Ozzy Osbourne",
          "Dream Theater"
        ]
      },
      "top_artists": [
        "Kiss",
        "Dream Theater",
        "Vagabond",
        "Marillion",
        "Ozzy Osbourne"
      ],
      "top_albums": [
        "Kiss - Alive II",
        "Dream Theater - A Change of Seasons",
        "Vagabond - A Huge Fan of Life",
        "Marillion - Brave",
        "Ozzy Osbourne - Diary of a Madman"
      ]
    },
    {
      "name": "1987",
      "count": 11,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 1,
        "sdecandelario": 10
      },
      "user_artists": {
        "Nubis84": [
          "Marillion"
        ],
        "sdecandelario": [
          "Manowar",
          "Warlock"
        ]
      },
      "top_artists": [
        "Manowar",
        "Warlock",
        "Marillion"
      ],
      "top_albums": [
        "Manowar - Battle Hymns",
        "Warlock - Burning The Witches",
        "Marillion - Clutching at Straws"
      ]
    },
    {
      "name": "2005",
      "count": 6,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 3,
        "sdecandelario": 3
      },
      "user_artists": {
        "Nubis84": [
          "Gravenhurst",
          "Fiona Apple"
        ],
        "sdecandelario": [
          "Masterplan",
          "Kreator"
        ]
      },
      "top_artists": [
        "Gravenhurst",
        "Masterplan",
        "Fiona Apple",
        "Kreator"
      ],
      "top_albums": [
        "Gravenhurst - Fires In Distant Buildings",
        "Masterplan - Aeronautics",
        "Fiona Apple - Extraordinary Machine",
        "Kreator - Enemy of God"
      ]
    }
  ],
  "novelties": {
    "nuevos": {
      "artists": [
        {
          "name": "Vargas Blues Band",
          "count": 33,
          "users": [
            "Nubis84"
          ],
          "first_date": 1255084101
        }
      ],
      "albums": [
        {
          "name": "Miles Davis - Kind Of Blue (Legacy Edition)",
          "artist": "Miles Davis",
          "album": "Kind Of Blue (Legacy Edition)",
          "count": 18,
          "users": [
            "Nubis84"
          ],
          "first_date": 1256814761
        },
        {
          "name": "Axxis - Utopia",
          "artist": "Axxis",
          "album": "Utopia",
          "count": 22,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1256594425
        },
        {
          "name": "Rage - Perfect Man",
          "artist": "Rage",
          "album": "Perfect Man",
          "count": 14,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1256588248
        },
        {
          "name": "Rage - Execution Guaranteed",
          "artist": "Rage",
          "album": "Execution Guaranteed",
          "count": 14,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1256544024
        },
        {
          "name": "Stormwarrior - Heading Northe",
          "artist": "Stormwarrior",
          "album": "Heading Northe",
          "count": 22,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1256488192
        },
        {
          "name": "Extremoduro - Iros Todos a Tomar Por Culo",
          "artist": "Extremoduro",
          "album": "Iros Todos a Tomar Por Culo",
          "count": 14,
          "users": [
            "Nubis84"
          ],
          "first_date": 1256164051
        },
        {
          "name": "Rammstein - Liebe ist f√ºr alle da",
          "artist": "Rammstein",
          "album": "Liebe ist f√ºr alle da",
          "count": 20,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1256153725
        },
        {
          "name": "Alestorm - Black Sails at Midnight",
          "artist": "Alestorm",
          "album": "Black Sails at Midnight",
          "count": 20,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1255985587
        },
        {
          "name": "Vargas Blues Band - Blues Latino",
          "artist": "Vargas Blues Band",
          "album": "Blues Latino",
          "count": 21,
          "users": [
            "Nubis84"
          ],
          "first_date": 1255087305
        },
        {
          "name": "Sonata Arctica - The Days of Grays",
          "artist": "Sonata Arctica",
          "album": "The Days of Grays",
          "count": 24,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1254948867
        },
        {
          "name": "Kiss - Sonic Boom",
          "artist": "Kiss",
          "album": "Sonic Boom",
          "count": 22,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1254943721
        },
        {
          "name": "Neal Morse - Testimony",
          "artist": "Neal Morse",
          "album": "Testimony",
          "count": 19,
          "users": [
            "Nubis84"
          ],
          "first_date": 1254654768
        }
      ],
      "tracks": [
        {
          "name": "...And You Will Know Us by the Trail of Dead - Baudelaire",
          "artist": "...And You Will Know Us by the Trail of Dead",
          "track": "Baudelaire",
          "count": 2,
          "users": [
            "Nubis84"
          ],
          "first_date": 1256907838
        },
        {
          "name": "...And You Will Know Us by the Trail of Dead - Another Morning Stoner",
          "artist": "...And You Will Know Us by the Trail of Dead",
          "track": "Another Morning Stoner",
          "count": 2,
          "users": [
            "Nubis84"
          ],
          "first_date": 1256907596
        },
        {
          "name": "Ayreon - No Quarter",
          "artist": "Ayreon",
          "track": "No Quarter",
          "count": 2,
          "users": [
            "Nubis84"
          ],
          "first_date": 1256734775
        },
        {
          "name": "The Cure - Lovesong",
          "artist": "The Cure",
          "track": "Lovesong",
          "count": 2,
          "users": [
            "Nubis84"
          ],
          "first_date": 1255949570
        },
        {
          "name": "Fito Y Fitipaldis - Por la boca vive el pez",
          "artist": "Fito Y Fitipaldis",
          "track": "Por la boca vive el pez",
          "count": 4,
          "users": [
            "Nubis84"
          ],
          "first_date": 1255518400
        },
        {
          "name": "Vargas Blues Band - Blues Latino",
          "artist": "Vargas Blues Band",
          "track": "Blues Latino",
          "count": 24,
          "users": [
            "Nubis84"
          ],
          "first_date": 1255084101
        },
        {
          "name": "Carlos Santana - Blues Latino",
          "artist": "Carlos Santana",
          "track": "Blues Latino",
          "count": 11,
          "users": [
            "Nubis84"
          ],
          "first_date": 1255014173
        }
      ]
    },
    "nuevos_compartidos": {
      "artists": [],
      "albums": [],
      "tracks": []
    },
    "nuevos_para_usuario": {
      "artists": [],
      "albums": [],
      "tracks": []
    },
    "nuevos_para_usuarios": {
      "Nubis84": {
        "artists": [
          {
            "name": "Helloween",
            "period_count": 1,
            "total_count": 25,
            "coincident_users": [
              "sdecandelario"
            ],
            "num_coincidences": 1,
            "first_date": 1256639709
          }
        ],
        "albums": [
          {
            "name": "Black Sabbath - Paranoid",
            "artist": "Black Sabbath",
            "album": "Paranoid",
            "period_count": 1,
            "total_count": 127,
            "coincident_users": [
              "sdecandelario"
            ],
            "num_coincidences": 1,
            "first_date": 1256210405
          }
        ],
        "tracks": [
          {
            "name": "Deep Purple - Smoke on the Water",
            "artist": "Deep Purple",
            "track": "Smoke on the Water",
            "period_count": 1,
            "total_count": 31,
            "coincident_users": [
              "sdecandelario"
            ],
            "num_coincidences": 1,
            "first_date": 1254486247
          },
          {
            "name": "Helloween - Future World",
            "artist": "Helloween",
            "track": "Future World",
            "period_count": 1,
            "total_count": 1,
            "coincident_users": [
              "sdecandelario"
            ],
            "num_coincidences": 1,
            "first_date": 1256639709
          }
        ]
      }
    }
  },
  "period_label": "October 2009",
  "from_date": "2009-10-01",
  "to_date": "2009-10-31",
  "generated_at": "2025-11-14 20:06"
};
        const hasNovelties = stats.novelties !== undefined;

        // Funci√≥n para obtener novedades de usuario desde datos precalculados
        function getUserNovelties(user) {
            if (!stats.novelties || !stats.novelties.nuevos_para_usuarios) {
                return { artists: [], albums: [], tracks: [] };
            }

            return stats.novelties.nuevos_para_usuarios[user] || { artists: [], albums: [], tracks: [] };
        }

        // Funcionalidad del bot√≥n de usuario
        function initializeUserSelector() {
            const userButton = document.getElementById('userButton');
            const userModal = document.getElementById('userModal');
            const userModalClose = document.getElementById('userModalClose');
            const userOptions = document.getElementById('userOptions');

            // Cargar usuario guardado desde localStorage
            let selectedUser = localStorage.getItem('lastfm_selected_user') || '';

            // Llenar opciones de usuarios
            availableUsers.forEach(user => {
                const option = document.createElement('div');
                option.className = 'user-option';
                option.dataset.user = user;
                option.textContent = user;
                userOptions.appendChild(option);
            });

            // Marcar opci√≥n seleccionada
            updateSelectedUserOption(selectedUser);

            // Event listeners
            userButton.addEventListener('click', () => {
                userModal.style.display = 'block';
            });

            userModalClose.addEventListener('click', () => {
                userModal.style.display = 'none';
            });

            userModal.addEventListener('click', (e) => {
                if (e.target === userModal) {
                    userModal.style.display = 'none';
                }
            });

            userOptions.addEventListener('click', (e) => {
                if (e.target.classList.contains('user-option')) {
                    const user = e.target.dataset.user;
                    selectedUser = user;

                    // Guardar en localStorage
                    if (user) {
                        localStorage.setItem('lastfm_selected_user', user);
                    } else {
                        localStorage.removeItem('lastfm_selected_user');
                    }

                    updateSelectedUserOption(user);
                    userModal.style.display = 'none';
                    renderStats(); // Re-renderizar con nuevo usuario
                }
            });

            return selectedUser;
        }

        function updateSelectedUserOption(selectedUser) {
            const userOptions = document.getElementById('userOptions');
            userOptions.querySelectorAll('.user-option').forEach(option => {
                option.classList.remove('selected');
                if (option.dataset.user === selectedUser) {
                    option.classList.add('selected');
                }
            });
        }

        // Inicializar categor√≠as activas
        let activeCategories = new Set(['artists']); // Por defecto mostrar artistas
        let selectedUser = '';

        document.getElementById('dateRange').textContent = `${stats.from_date || ''} ‚Üí ${stats.to_date || ''}`;
        document.getElementById('totalScrobbles').textContent = stats.total_scrobbles || 0;
        document.getElementById('generatedAt').textContent = stats.generated_at || '';

        // Manejar filtros de categor√≠as
        const categoryFilters = document.querySelectorAll('.category-filter');
        categoryFilters.forEach(filter => {
            filter.addEventListener('click', () => {
                const category = filter.dataset.category;

                if (activeCategories.has(category)) {
                    activeCategories.delete(category);
                    filter.classList.remove('active');
                } else {
                    activeCategories.add(category);
                    filter.classList.add('active');
                }

                renderStats();
            });
        });

        function showArtistsPopup(itemName, category, user) {
            const item = stats[category].find(item => item.name === itemName);
            if (!item || !item.user_artists || !item.user_artists[user]) return;

            const artists = item.user_artists[user];

            // Crear overlay
            const overlay = document.createElement('div');
            overlay.className = 'popup-overlay';

            // Crear popup
            const popup = document.createElement('div');
            popup.className = 'artists-popup';

            const header = document.createElement('div');
            header.className = 'popup-header';

            const closeBtn = document.createElement('button');
            closeBtn.className = 'popup-close';
            closeBtn.innerHTML = '√ó';
            closeBtn.onclick = () => {
                document.body.removeChild(overlay);
                document.body.removeChild(popup);
            };

            header.innerHTML = `Artistas de ${user} en "${itemName}"`;
            header.appendChild(closeBtn);

            const artistList = document.createElement('ul');
            artistList.className = 'artist-list';

            artists.forEach(artist => {
                const li = document.createElement('li');
                li.textContent = artist;
                artistList.appendChild(li);
            });

            popup.appendChild(header);
            popup.appendChild(artistList);

            // Cerrar al hacer click en overlay
            overlay.onclick = () => {
                document.body.removeChild(overlay);
                document.body.removeChild(popup);
            };

            document.body.appendChild(overlay);
            document.body.appendChild(popup);
        }

        function createNoveltyItem(item, selectedUser) {
            const itemDiv = document.createElement('div');
            itemDiv.className = 'item';

            if (selectedUser && item.users.includes(selectedUser)) {
                itemDiv.classList.add('highlighted');
            }

            const itemName = document.createElement('div');
            itemName.className = 'item-name';
            itemName.textContent = item.name;
            itemDiv.appendChild(itemName);

            const itemMeta = document.createElement('div');
            itemMeta.className = 'item-meta';

            // Conteo de plays si existe
            if (item.count) {
                const countBadge = document.createElement('span');
                countBadge.className = 'badge';
                countBadge.textContent = `${item.count} plays`;
                itemMeta.appendChild(countBadge);
            }

            // Fecha de primer scrobble
            const date = new Date(item.first_date * 1000);
            const dateBadge = document.createElement('span');
            dateBadge.className = 'badge';
            dateBadge.textContent = `Primera vez: ${date.toLocaleDateString('es-ES')}`;
            itemMeta.appendChild(dateBadge);

            // Usuarios que lo han escuchado
            item.users.forEach(user => {
                const userBadge = document.createElement('span');
                userBadge.className = 'user-badge';
                if (user === selectedUser) {
                    userBadge.classList.add('highlighted-user');
                }
                userBadge.textContent = user;
                itemMeta.appendChild(userBadge);
            });

            itemDiv.appendChild(itemMeta);
            return itemDiv;
        }

        function createUserNoveltyItem(item, selectedUser) {
            const itemDiv = document.createElement('div');
            itemDiv.className = 'item';
            itemDiv.classList.add('highlighted'); // Siempre resaltado para el usuario

            const itemName = document.createElement('div');
            itemName.className = 'item-name';
            itemName.textContent = item.name;
            itemDiv.appendChild(itemName);

            const itemMeta = document.createElement('div');
            itemMeta.className = 'item-meta';

            // Total de scrobbles del usuario para este elemento
            if (item.total_count) {
                const totalBadge = document.createElement('span');
                totalBadge.className = 'badge';
                totalBadge.style.background = '#cba6f7';
                totalBadge.style.color = '#1e1e2e';
                totalBadge.textContent = `${item.total_count} total plays`;
                itemMeta.appendChild(totalBadge);
            }

            // Scrobbles en este per√≠odo
            if (item.period_count) {
                const periodBadge = document.createElement('span');
                periodBadge.className = 'badge';
                periodBadge.textContent = `${item.period_count} plays per√≠odo`;
                itemMeta.appendChild(periodBadge);
            }

            // Fecha de primera vez del usuario (si est√° disponible)
            if (item.first_date || item.user_first_date) {
                const date = new Date((item.first_date || item.user_first_date) * 1000);
                const dateBadge = document.createElement('span');
                dateBadge.className = 'badge';
                dateBadge.style.background = '#a6e3a1';
                dateBadge.style.color = '#1e1e2e';
                dateBadge.textContent = `Primera vez: ${date.toLocaleDateString('es-ES')}`;
                itemMeta.appendChild(dateBadge);
            }

            // Usuarios que tambi√©n lo escucharon (coincidencias)
            if (item.coincident_users && item.coincident_users.length > 0) {
                item.coincident_users.forEach(user => {
                    const userBadge = document.createElement('span');
                    userBadge.className = 'user-badge';
                    userBadge.textContent = user;
                    itemMeta.appendChild(userBadge);
                });
            }

            // Informaci√≥n de coincidencias
            if (item.num_coincidences) {
                const coincidencesBadge = document.createElement('span');
                coincidencesBadge.className = 'badge';
                coincidencesBadge.style.background = '#f38ba8';
                coincidencesBadge.style.color = '#1e1e2e';
                coincidencesBadge.textContent = `${item.num_coincidences} coincidencias`;
                itemMeta.appendChild(coincidencesBadge);
            }

            itemDiv.appendChild(itemMeta);
            return itemDiv;
        }

        function renderStats() {
            const container = document.getElementById('categoriesContainer');
            container.innerHTML = '';

            const categoryTitles = {
                artists: 'Artistas M√°s Escuchados',
                tracks: 'Canciones M√°s Escuchadas',
                albums: '√Ålbumes M√°s Escuchados',
                genres: 'G√©neros M√°s Escuchados',
                labels: 'Sellos M√°s Escuchados',
                years: 'A√±os M√°s Escuchados',
                novelties: 'Novedades'
            };

            let hasData = false;

            ['artists', 'tracks', 'albums', 'genres', 'labels', 'years', 'novelties'].forEach(categoryKey => {
                if (!activeCategories.has(categoryKey)) return;

                // Manejo especial para novedades
                if (categoryKey === 'novelties') {
                    if (!hasNovelties || !stats.novelties) return;

                    hasData = true;
                    const categoryDiv = document.createElement('div');
                    categoryDiv.className = 'category visible';
                    categoryDiv.dataset.category = categoryKey;

                    const title = document.createElement('h3');
                    title.textContent = categoryTitles[categoryKey];
                    categoryDiv.appendChild(title);

                    // NUEVOS PARA TODOS
                    const nuevosSection = document.createElement('div');
                    nuevosSection.className = 'novelty-section';

                    const nuevosTitle = document.createElement('h4');
                    nuevosTitle.textContent = 'üÜï Nuevos para todos';
                    nuevosSection.appendChild(nuevosTitle);

                    ['artists', 'albums', 'tracks'].forEach(type => {
                        const subsection = document.createElement('div');
                        subsection.className = 'novelty-subsection';

                        const subsectionTitle = document.createElement('h5');
                        subsectionTitle.textContent = type === 'artists' ? 'Artistas' :
                                                     type === 'albums' ? '√Ålbumes' : 'Canciones';
                        subsection.appendChild(subsectionTitle);

                        const items = stats.novelties.nuevos[type];
                        if (items && items.length > 0) {
                            items.forEach(item => {
                                const itemDiv = createNoveltyItem(item, selectedUser);
                                subsection.appendChild(itemDiv);
                            });
                        } else {
                            const emptyDiv = document.createElement('div');
                            emptyDiv.className = 'novelty-empty';
                            emptyDiv.textContent = 'No hay elementos nuevos';
                            subsection.appendChild(emptyDiv);
                        }

                        nuevosSection.appendChild(subsection);
                    });

                    categoryDiv.appendChild(nuevosSection);

                    // NUEVOS COMPARTIDOS
                    const compartidosSection = document.createElement('div');
                    compartidosSection.className = 'novelty-section';

                    const compartidosTitle = document.createElement('h4');
                    compartidosTitle.textContent = 'üë• Nuevos compartidos (50%+ del grupo)';
                    compartidosSection.appendChild(compartidosTitle);

                    ['artists', 'albums', 'tracks'].forEach(type => {
                        const subsection = document.createElement('div');
                        subsection.className = 'novelty-subsection';

                        const subsectionTitle = document.createElement('h5');
                        subsectionTitle.textContent = type === 'artists' ? 'Artistas' :
                                                     type === 'albums' ? '√Ålbumes' : 'Canciones';
                        subsection.appendChild(subsectionTitle);

                        const items = stats.novelties.nuevos_compartidos[type];
                        if (items && items.length > 0) {
                            items.forEach(item => {
                                const itemDiv = createNoveltyItem(item, selectedUser);
                                subsection.appendChild(itemDiv);
                            });
                        } else {
                            const emptyDiv = document.createElement('div');
                            emptyDiv.className = 'novelty-empty';
                            emptyDiv.textContent = 'No hay elementos nuevos compartidos';
                            subsection.appendChild(emptyDiv);
                        }

                        compartidosSection.appendChild(subsection);
                    });

                    // NUEVOS PARA USUARIO SELECCIONADO
                    if (selectedUser) {
                        const usuarioSection = document.createElement('div');
                        usuarioSection.className = 'novelty-section';

                        const usuarioTitle = document.createElement('h4');
                        usuarioTitle.textContent = `üë§ Nuevos para ${selectedUser} (ya conocidos por el grupo)`;
                        usuarioSection.appendChild(usuarioTitle);

                        // Calcular novedades para el usuario
                        const userNovelties = getUserNovelties(selectedUser);

                        ['artists', 'albums', 'tracks'].forEach(type => {
                            const subsection = document.createElement('div');
                            subsection.className = 'novelty-subsection';

                            const subsectionTitle = document.createElement('h5');
                            subsectionTitle.textContent = type === 'artists' ? 'Artistas' :
                                                         type === 'albums' ? '√Ålbumes' : 'Canciones';
                            subsection.appendChild(subsectionTitle);

                            const items = userNovelties[type];
                            if (items && items.length > 0) {
                                items.forEach(item => {
                                    const itemDiv = createUserNoveltyItem(item, selectedUser);
                                    subsection.appendChild(itemDiv);
                                });
                            } else {
                                const emptyDiv = document.createElement('div');
                                emptyDiv.className = 'novelty-empty';
                                const typeText = type === 'artists' ? 'artistas' :
                                               type === 'albums' ? '√°lbumes' : 'canciones';
                                emptyDiv.textContent = items ?
                                    `No hay ${typeText} nuevos para ${selectedUser} con coincidencias en el per√≠odo` :
                                    'Calculando novedades del usuario...';
                                subsection.appendChild(emptyDiv);
                            }

                            usuarioSection.appendChild(subsection);
                        });

                        categoryDiv.appendChild(usuarioSection);
                    } else {
                        const usuarioSection = document.createElement('div');
                        usuarioSection.className = 'novelty-section';

                        const usuarioTitle = document.createElement('h4');
                        usuarioTitle.textContent = 'üë§ Nuevos para usuario espec√≠fico';
                        usuarioSection.appendChild(usuarioTitle);

                        const infoDiv = document.createElement('div');
                        infoDiv.className = 'novelty-empty';
                        infoDiv.textContent = 'Selecciona un usuario para ver sus novedades personales';
                        usuarioSection.appendChild(infoDiv);

                        categoryDiv.appendChild(usuarioSection);
                    }
                    container.appendChild(categoryDiv);
                    return;
                }

                if (!stats[categoryKey] || stats[categoryKey].length === 0) return;

                hasData = true;
                const categoryDiv = document.createElement('div');
                categoryDiv.className = 'category visible';
                categoryDiv.dataset.category = categoryKey;

                const title = document.createElement('h3');
                title.textContent = categoryTitles[categoryKey];
                categoryDiv.appendChild(title);

                stats[categoryKey].forEach(item => {
                    const itemDiv = document.createElement('div');
                    itemDiv.className = 'item';

                    if (selectedUser && item.users.includes(selectedUser)) {
                        itemDiv.classList.add('highlighted');
                    }

                    // Hacer clickeable si es g√©nero, a√±o o sello y hay usuario seleccionado
                    const isClickableForUser = ['genres', 'labels', 'years'].includes(categoryKey) &&
                                       selectedUser &&
                                       item.users.includes(selectedUser) &&
                                       item.user_artists &&
                                       item.user_artists[selectedUser];

                    // Hacer expandible si tiene informaci√≥n detallada
                    const isExpandable = ['genres', 'labels', 'years'].includes(categoryKey) &&
                                         ((item.top_artists && item.top_artists.length > 0) ||
                                          (item.top_albums && item.top_albums.length > 0));

                    const itemName = document.createElement('div');
                    itemName.className = 'item-name';
                    itemName.textContent = item.name;

                    if (isExpandable) {
                        itemDiv.classList.add('expandable');
                    }

                    itemDiv.appendChild(itemName);

                    const itemMeta = document.createElement('div');
                    itemMeta.className = 'item-meta';

                    const countBadge = document.createElement('span');
                    countBadge.className = 'badge';
                    countBadge.textContent = `${item.count} plays`;
                    itemMeta.appendChild(countBadge);

                    item.users.sort((a, b) => (item.user_counts[b] || 0) - (item.user_counts[a] || 0));

                    item.users.forEach(user => {
                        const userBadge = document.createElement('span');
                        userBadge.className = 'user-badge';
                        if (user === selectedUser) {
                            userBadge.classList.add('highlighted-user');
                        }

                        const userScrobbles = item.user_counts[user] || 0;
                        userBadge.textContent = `${user} (${userScrobbles})`;

                        if (isClickableForUser && user === selectedUser) {
                            userBadge.style.cursor = 'pointer';
                            userBadge.addEventListener('click', (e) => {
                                e.stopPropagation();
                                showArtistsPopup(item.name, categoryKey, user);
                            });
                        }

                        itemMeta.appendChild(userBadge);
                    });

                    itemDiv.appendChild(itemMeta);

                    // Detalles expandibles
                    if (isExpandable) {
                        const detailsDiv = document.createElement('div');
                        detailsDiv.className = 'details';

                        if (item.top_artists && item.top_artists.length > 0) {
                            const artistSection = document.createElement('div');
                            artistSection.className = 'detail-section';

                            const artistTitle = document.createElement('div');
                            artistTitle.className = 'detail-title';
                            artistTitle.textContent = 'Top Artistas:';
                            artistSection.appendChild(artistTitle);

                            const artistList = document.createElement('div');
                            artistList.className = 'detail-list';

                            item.top_artists.slice(0, 10).forEach(artist => {
                                const artistItem = document.createElement('span');
                                artistItem.className = 'detail-item';
                                artistItem.textContent = artist;
                                artistList.appendChild(artistItem);
                            });

                            artistSection.appendChild(artistList);
                            detailsDiv.appendChild(artistSection);
                        }

                        if (item.top_albums && item.top_albums.length > 0) {
                            const albumSection = document.createElement('div');
                            albumSection.className = 'detail-section';

                            const albumTitle = document.createElement('div');
                            albumTitle.className = 'detail-title';
                            albumTitle.textContent = 'Top √Ålbumes:';
                            albumSection.appendChild(albumTitle);

                            const albumList = document.createElement('div');
                            albumList.className = 'detail-list';

                            item.top_albums.slice(0, 10).forEach(album => {
                                const albumItem = document.createElement('span');
                                albumItem.className = 'detail-item';
                                albumItem.textContent = album;
                                albumList.appendChild(albumItem);
                            });

                            albumSection.appendChild(albumList);
                            detailsDiv.appendChild(albumSection);
                        }

                        itemDiv.appendChild(detailsDiv);

                        itemDiv.addEventListener('click', (e) => {
                            if (e.target.classList.contains('user-badge') && e.target.style.cursor === 'pointer') {
                                return;
                            }

                            itemDiv.classList.toggle('expanded');
                            detailsDiv.classList.toggle('expanded');
                        });
                    }

                    categoryDiv.appendChild(itemDiv);
                });

                container.appendChild(categoryDiv);
            });

            if (!hasData) {
                const noDataDiv = document.createElement('div');
                noDataDiv.className = 'no-data';
                noDataDiv.textContent = 'No hay datos para mostrar con los filtros seleccionados.';
                container.appendChild(noDataDiv);
            }
        }

        // Inicializaci√≥n
        document.addEventListener('DOMContentLoaded', function() {
            selectedUser = initializeUserSelector();
            renderStats();
        });
    </script>
</body>
</html>